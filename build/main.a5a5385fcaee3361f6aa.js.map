{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ts/lib/rendering/spriteSheetManager.ts","webpack:///./src/ts/lib/game/entity/gameEntity.ts","webpack:///./src/ts/lib/rendering/animatedSprite.ts","webpack:///./src/ts/lib/game/component/directionComponent.ts","webpack:///./src/ts/lib/game/component/animationComponent.ts","webpack:///./src/ts/lib/game/component/wallComponent.ts","webpack:///./src/ts/lib/game/gameMap.ts","webpack:///./src/ts/lib/game/component/destructibleComponent.ts","webpack:///./src/ts/lib/event/eventBus.ts","webpack:///./src/ts/app/entities/particles/ParticleFactory.ts","webpack:///./src/ts/lib/game/entity/entityManager.ts","webpack:///./src/ts/lib/rendering/renderer.ts","webpack:///./src/ts/lib/event/gameEvent.ts","webpack:///./src/ts/lib/game/component/positionComponent.ts","webpack:///./src/ts/app/entities/item/explosion.ts","webpack:///./src/ts/lib/game/system/particleSystem.ts","webpack:///./src/ts/lib/game/util/mathUtil.ts","webpack:///./src/ts/lib/rendering/color.ts","webpack:///./src/ts/app/entities/players/player.ts","webpack:///./src/ts/lib/game/component/aiComponent.ts","webpack:///./src/ts/lib/game/component/enemyComponent.ts","webpack:///./src/ts/lib/input/keyboard.ts","webpack:///./src/ts/lib/application/overLayScreen.ts","webpack:///./src/resources/images/logo.png","webpack:///./src/ts/lib/game/entity/idGenerator.ts","webpack:///./src/ts/lib/rendering/Color.ts","webpack:///./src/ts/lib/game/util/colorUtil.ts","webpack:///./src/ts/lib/game/component/timerComponent.ts","webpack:///./src/ts/lib/game/component/velocityComponent.ts","webpack:///./src/ts/lib/game/component/damageComponent.ts","webpack:///./src/ts/app/entities/tile/destroyedGrass.ts","webpack:///./src/ts/lib/game/system/systemManager.ts","webpack:///./src/ts/lib/game/component/animateComponent.ts","webpack:///./src/ts/lib/game/component/attackComponent.ts","webpack:///./src/ts/lib/audo/audioManager.ts","webpack:///./src/ts/app.ts","webpack:///./src/ts/app/bomberman.ts","webpack:///./src/ts/app/entities/tile/grass.ts","webpack:///./src/ts/lib/rendering/spriteSheet.ts","webpack:///./src/resources/images/player.png","webpack:///./src/resources/images/level.png","webpack:///./src/ts/app/entities/tile/wall.ts","webpack:///./src/ts/app/entities/item/brick.ts","webpack:///./src/ts/app/entities/tile/grassy.ts","webpack:///./src/ts/app/entities/tile/waterEdge.ts","webpack:///./src/ts/app/entities/tile/water.ts","webpack:///./src/ts/app/entities/tile/wallStone.ts","webpack:///./src/ts/app/entities/item/waterWall.ts","webpack:///./src/ts/app/entities/item/crate.ts","webpack:///./src/ts/app/entities/item/bush.ts","webpack:///./src/ts/app/entities/tile/mushrooms.ts","webpack:///./src/ts/app/entities/tile/flowers.ts","webpack:///./src/ts/app/entities/item/bomb.ts","webpack:///./src/ts/lib/game/component/explosiveComponent.ts","webpack:///./src/ts/lib/game/component/futureDamage.ts","webpack:///./src/ts/app/entities/item/explosionLeft.ts","webpack:///./src/ts/lib/game/component/particleComponent.ts","webpack:///./src/ts/app/entities/item/explosionMiddle.ts","webpack:///./src/ts/app/entities/item/explosionRight.ts","webpack:///./src/ts/app/entities/item/explosionTop.ts","webpack:///./src/ts/app/entities/item/explosionBottom.ts","webpack:///./src/ts/app/entities/tile/destoryedWaterWall.ts","webpack:///./src/ts/app/entities/tile/destroyedBrick.ts","webpack:///./src/ts/app/entities/tile/destroyedBush.ts","webpack:///./src/ts/app/entities/powerups/bombUp.ts","webpack:///./src/ts/app/entities/powerups/explosionUp.ts","webpack:///./src/ts/app/entities/powerups/sheildUp.ts","webpack:///./src/ts/app/entities/powerups/skull.ts","webpack:///./src/ts/app/entities/powerups/speedUp.ts","webpack:///./src/ts/app/entities/particles/smokeParticle.ts","webpack:///./src/ts/app/entities/particles/grassParticle.ts","webpack:///./src/ts/app/entities/particles/mistParticles.ts","webpack:///./src/ts/app/entities/particles/rainParticle.ts","webpack:///./src/ts/app/entities/particles/winningParticle.ts","webpack:///./src/ts/app/entities/particles/losingParticles.ts","webpack:///./node_modules/lodash.clonedeep/index.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/ts/app/modes/modes.ts","webpack:///./src/ts/app/modes/game.ts","webpack:///./src/ts/lib/game/system/collisionSystem.ts","webpack:///./src/ts/lib/game/system/renderSystem.ts","webpack:///./src/ts/lib/game/system/timerSystem.ts","webpack:///./src/ts/lib/game/system/attackSystem.ts","webpack:///./src/ts/lib/game/component/ownerComponent.ts","webpack:///./src/ts/lib/game/system/damageSystem.ts","webpack:///./src/ts/lib/game/component/deadComponent.ts","webpack:///./src/ts/lib/game/system/aiSystem.ts","webpack:///./src/ts/lib/game/ai/aStar.ts","webpack:///./src/ts/lib/game/ai/pathNode.ts","webpack:///./src/ts/lib/audo/audioFile.ts","webpack:///./src/resources/audio/music.ogg","webpack:///./src/resources/audio/explosion.ogg","webpack:///./src/ts/app/entities/players/whitePlayer.ts","webpack:///./src/ts/lib/game/component/speedComponent.ts","webpack:///./src/ts/lib/game/component/renderPositionComponent.ts","webpack:///./src/ts/lib/game/component/inventoryComponent.ts","webpack:///./src/ts/app/entities/players/blackPlayer.ts","webpack:///./src/ts/app/entities/players/redPlayer.ts","webpack:///./src/ts/app/entities/players/bluePlayer.ts","webpack:///./src/ts/lib/application/application.ts","webpack:///./src/ts/app/modes/startGame.ts","webpack:///./src/resources/images/bombermanFace.png","webpack:///./src/ts/app/modes/victory.ts","webpack:///./src/resources/images/trophy.png","webpack:///./src/ts/app/modes/gameOver.ts","webpack:///./src/resources/images/bombermanFaceDead.png","webpack:///./src/css/main.css?2561","webpack:///./src/css/main.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","playerSprites","playerDefinition","levelSprites","levelDefinition","SpriteSheetManager","undefined","this","_instance","_spriteSheets","Map","init","playerSpriteSheet","SpriteSheet","load","register","levelSpriteSheet","console","log","spriteSheet","set","_id","IdGenerator","nextId","_name","_componentMap","id","gameComponent","delete","has","_spriteSheet","_tick","_frameRate","_currentFrame","_sprites","Array","frameRate","sprite","push","ctx","x","y","render","length","_direction","direction","_animatedSprite","animatedSprite","level1","TileType","GameMap","_width","_height","_particles","_level","tile","map","tileEntity","itemEntity","position","PositionComponent","setX","setY","WALL","EntityManager","getInstance","getEntity","GRASS","BRICK","GRASSY","WATER_EDGE","generateMist","getX","getY","WATER","WALL_STONE","WATER_WALL","CRATE","BUSH","FLOWERS","MUSHROOMS","addComponent","layer","entity","getGameEntity","item","hasComponent","componentName","gameEntity","mistParticle","ParticleFactory","getParticle","addParticle","itemName","getName","EventBus","_channels","channel","eventhandler","gameEvent","listeners","listener","handleEvent","particleName","refreshParticle","particle","refresh","ParticleComponent","someParticlePosition","getComponent","particleComponent","setVelX","getRandomInt","setVelY","setHeight","setWidth","setDecay","setAlive","setRenderOffset","Renderer","getRenderOffset","color","Color","gray","setRed","setGreen","setBlue","setAlpha","setColor","getOriginalX","getOriginalY","setRespawn","setResize","colorOffset","cloneDeep","_entities","_players","Brick","Grass","Wall","Grassy","WallStone","WaterEdge","WaterWall","Water","Crate","Bush","Mushrooms","Flowers","Bomb","ExplosionLeft","ExplosionRight","ExplosionTop","ExplosionBottom","ExplosionMiddle","DestoryedWaterWall","DestroyedGrass","DestroyedBrick","DestroyedBush","BombUp","ExplosionUp","SheildUp","Skull","SpeedUp","SmokeParticle","GrassParticle","MistParticles","RainParticle","WinningParticle","LosingParticles","playerName","setId","window","innerHeight","innerWidth","_canvas","document","getElementById","width","height","_ctx","getContext","imageSmoothingEnabled","_renderingEffects","offsetX","offsetY","_spriteSize","clearRect","image","getAlpha","drawImage","e","Error","payload","msg","font","fontSize","fillStyle","RGBtoHex","getRed","getGreen","getBlue","fillText","_channel","_payload","_x","_y","Explosion","GameEntity","super","spriteName","getSpriteSheet","AnimatedSprite","addSprite","getSprite","animationComponent","AnimationComponent","setAnimatedSprite","directionComponent","DirectionComponent","setDirection","timerComponent","TimerComponent","setTimer","setCallback","explosion","setGameEntity","damageTile","smokeParticle","DamageComponent","isAlive","getVelX","getVelY","shouldResize","getWidth","getHeight","getColor","getDecay","globalAlpha","beginPath","rect","fill","closePath","shouldRespawn","removeParticle","getId","max","Math","floor","random","getRandomBetween","min","array","_alpha","red","_red","green","_green","blue","_blue","alpha","Player","renderPosition","RenderPositionComponent","frontSprite","backSprite","leftSprite","rightSprite","deadSprite","speed","SpeedComponent","setSpeed","velocity","VelocityComponent","InventoryComponent","registerPlayer","_lastMove","Date","getTime","_enemyName","enemyName","KeyboardInput","active","_active","toString","_timer","timer","callBack","_callBack","_velX","_velY","velX","velY","SystemManager","_gameSystems","CollisionSystem","TimerSystem","AttackSystem","DamageSystem","AiSystem","RenderSystem","ParticleSystem","gameSystem","music","AudioManager","_soundMap","soundCheck","Audio","canPlayType","audioFile","AudioFile","play","bomberman","onload","Bomberman","onresize","resize","framesPerSecond","Application","_deathCount","_renderer","_gameScreens","_gameOverlayScreen","GameMode","PLAYING","Game","StartGame","Victory","GameOver","_gameMode","enable","gameLoop","clearScreen","keys","isActive","finalRender","setTimeout","requestAnimationFrame","keyboard","reset","disable","spriteSheetDefinition","_spriteSheetDefinition","_spriteCache","imageFilename","_image","Image","src","frameName","sprites","j","definition","WallComponent","DestructibleComponent","setFrameRate","ExplosiveComponent","publish","GameEvent","owner","inventory","getPlayer","getOwner","setCurrentItems","getCurrentItems","explosionColor","positiveNegative","explosionMiddle","explosive","setFutureDamage","getArea","explosionLeft","explosionPosition","placeExplosion","explosionRight","explosionTop","explosionBottom","explosionEntity","isWall","FutureDamageComponent","_area","area","_decay","_respawn","_alive","_resize","_renderOffset","originalX","_originalX","originalY","_originalY","_color","decay","respawn","alive","renderOffset","LARGE_ARRAY_SIZE","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reFlags","reIsHostCtor","reIsUint","cloneableTags","freeGlobal","global","freeSelf","self","root","Function","freeExports","nodeType","freeModule","moduleExports","addMapEntry","pair","addSetEntry","add","arrayReduce","iteratee","accumulator","initAccum","index","isHostObject","result","mapToArray","size","forEach","overArg","func","transform","arg","setToArray","uid","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","exec","IE_PROTO","funcToString","objectToString","reIsNative","RegExp","replace","Buffer","Uint8Array","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","splice","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","clear","entry","ListCache","MapCache","Stack","__data__","arrayLikeKeys","inherited","isArray","isObjectLike","isArrayLike","isArrayLikeObject","isArguments","baseTimes","String","skipIndexes","isIndex","assignValue","objValue","eq","assocIndexOf","baseClone","isDeep","isFull","customizer","stack","isObject","isArr","constructor","input","initCloneArray","source","copyArray","tag","getTag","isFunc","buffer","slice","copy","cloneBuffer","isPrototype","proto","initCloneObject","copyObject","getSymbols","copySymbols","baseAssign","cloneFunc","Ctor","cloneArrayBuffer","dataView","byteOffset","byteLength","cloneDataView","typedArray","cloneTypedArray","cloneMap","regexp","lastIndex","cloneRegExp","cloneSet","symbol","initCloneByTag","stacked","props","keysFunc","symbolsFunc","values","offset","arrayPush","baseGetAllKeys","getAllKeys","arrayEach","subValue","baseIsNative","isFunction","test","arrayBuffer","newValue","getMapData","type","data","getValue","pop","cache","pairs","other","ArrayBuffer","resolve","ctorString","isLength","baseKeys","g","webpackPolyfill","deprecate","paths","children","_particleSystem","WhitePlayer","BlackPlayer","RedPlayer","BluePlayer","_gameMap","_backgroundParticles","startGame","whitePlayer","removeComponent","gameEntityMap","getMap","gameSystems","getSystems","process","processEntities","particles","getParticles","layerName","LEFT","getSpeed","RIGHT","UP","DOWN","SPACE","attackComponent","AttackComponent","attemptedX","attemptedY","grassParticle","animate","AnimateComponent","animation","getAnimatedSprite","getDirection","getTimer","getCallBack","bomb","OwnerComponent","setOwner","_owner","randomPowerUps","powerUpName","info","powerUp","killPlayer","players","player","DeadComponent","enemyPoint","ai","npcX","npcY","hasNoValidEnemy","findNewEnemy","enemyComponent","findEnemyPosition","getEnemyName","enemyX","enemyY","aStar","AStar","isPathFound","path","getPath","newNode","getLastMove","updateMove","enemy","enemyPosition","possibleEnemies","actualEnemies","getRandomArrayElement","setEnemyName","startX","startY","endX","endY","_closedSet","_openSet","_path","_currentNode","PathNode","_startX","_startY","_endX","_endY","idx","translateCoordinatesToIdx","setIdx","setParent","setG","setH","getManhattanDistance","setF","getG","getH","abs","k","pathNode","getIdx","f","lowestCostIdx","getF","lowestNode","getTileWeight","canDestroy","isItemPresent","cost","calculateGValue","isOnOpenedList","isOnClosedList","addToOpenedList","startIdx","getParent","pathFound","findLowestCost","addToClosedList","buildRoute","buildNodeList","_idx","_parent","parent","_g","_h","h","_f","fileName","loop","_audio","paused","pause","currentTime","AiComponent","EnemyComponent","_speed","_maxItems","_currentItems","maxItems","currentItems","addEventListener","event","keyCode","bomberManImg","logoImg","OverLayBase","_bomberManFace","_logo","renderImage","print","ENTER","getActive","setActive","bomberManDeadImg","content","options","locals","useSourceMap","list","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","concat","sourceURLs","sources","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","_i","fn","memo","stylesInDom","isOldIE","all","atob","apply","arguments","getTarget","target","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","indexOf","createStyleElement","createElement","attrs","nonce","getNonce","addAttrs","el","setAttribute","obj","update","remove","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1"],"mappings":"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","file":"main.a5a5385fcaee3361f6aa.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 35);\n","import {SpriteSheet} from \"./spriteSheet\";\n\nconst playerSprites = require(\"../../../resources/images/player.png\");\nconst playerDefinition = require(\"../../../resources/images/player.json\");\n\nconst levelSprites = require(\"../../../resources/images/level.png\");\nconst levelDefinition = require(\"../../../resources/images/level.json\");\n\nexport class SpriteSheetManager {\n    private static _instance: SpriteSheetManager;\n    private _spriteSheets:Map<string, SpriteSheet>;\n\n    public static getInstance() : SpriteSheetManager {\n\n        if (this._instance === undefined) {\n            this._instance = new SpriteSheetManager();\n            this._instance._spriteSheets = new Map();\n            this._instance.init();\n        }\n\n        return this._instance;\n    }\n\n    private constructor() {\n\n    }\n\n    private init(): void {\n        let playerSpriteSheet : SpriteSheet = new SpriteSheet(playerDefinition);\n        playerSpriteSheet.load(playerSprites);\n        this.register(\"players\", playerSpriteSheet);\n\n        let levelSpriteSheet : SpriteSheet = new SpriteSheet(levelDefinition);\n        levelSpriteSheet.load(levelSprites);\n        this.register(\"level\", levelSpriteSheet);\n\n\n        console.log(\"Loaded sprite sheets\");\n    }\n\n    public register(name : string, spriteSheet:SpriteSheet) : void {\n        console.log(\"Sprite Sheet ->\" + name + \" = \" + spriteSheet);\n        this._spriteSheets.set(name, spriteSheet);\n    }\n\n    public getSpriteSheet(name: string) : SpriteSheet {\n        return this._spriteSheets.get(name);\n    }\n}","import {GameComponent} from \"../component/gameComponent\";\nimport {IdGenerator} from \"./idGenerator\";\n\n\n\nexport class GameEntity {\n\n    private _id:number;\n    private _name:string;\n    private _componentMap:Map<string, GameComponent>;\n\n\n    constructor(name: string) {\n        this._id = IdGenerator.nextId();\n        this._name = name;\n        this._componentMap = new Map<string, GameComponent>();\n    }\n\n    setId(id: number) {\n        this._id = id;\n    }\n\n    public getId() : number {\n        return this._id;\n    }\n\n    public getName() : string {\n        return this._name;\n    }\n\n    public addComponent(gameComponent:GameComponent) : void {\n        this._componentMap.set(gameComponent.name(), gameComponent);\n    }\n\n    public getComponent(name: string) : GameComponent {\n        return this._componentMap.get(name);\n    }\n\n    public removeComponent(name: string) : void {\n        this._componentMap.delete(name);\n    }\n\n    public hasComponent(name: string) : boolean {\n        return this._componentMap.has(name);\n    }\n\n}","import {Sprite, SpriteSheet} from \"./spriteSheet\";\n\n\nexport class AnimatedSprite {\n    private _tick:number;\n    private _frameRate:number;\n    private _currentFrame:number;\n    private _spriteSheet:SpriteSheet;\n    private _sprites:Array<Sprite>;\n\n    constructor(spriteSheet:SpriteSheet) {\n        this._spriteSheet = spriteSheet;\n        this._tick = 0;\n        this._frameRate = 2;\n        this._currentFrame = 0;\n        this._sprites = new Array<Sprite>();\n\n    }\n\n    public setFrameRate(frameRate: number) : void {\n        this._frameRate = frameRate;\n    }\n\n    public addSprite(sprite: Sprite) : void {\n        this._sprites.push(sprite);\n    }\n\n    public render(ctx: CanvasRenderingContext2D,x:number,y:number) : void {\n        this._spriteSheet.render(ctx,this._sprites[this._currentFrame],x,y);\n    }\n\n    public animate() : void {\n        this._tick++;\n        if (this._tick === this._frameRate) {\n            this._currentFrame++;\n            this._tick =0;\n        }\n\n        if (this._currentFrame == this._sprites.length) {\n            this._currentFrame = 0;\n        }\n    }\n\n    public getCurrentSprite() : Sprite {\n        return this._sprites[this._currentFrame];\n    }\n}","import {GameComponent} from \"./gameComponent\";\n\n\nexport class DirectionComponent implements GameComponent {\n\n    private _direction:string;\n\n    constructor() {\n        this._direction = \"down\";\n    }\n\n    name(): string {\n        return \"direction\";\n    }\n\n    public setDirection(direction:string) : void {\n        this._direction = direction;\n    }\n\n    public getDirection() : string {\n        return this._direction;\n    }\n\n}","import {GameComponent} from \"./gameComponent\";\nimport {AnimatedSprite} from \"../../rendering/animatedSprite\";\n\n\nexport class AnimationComponent implements GameComponent {\n\n    private _animatedSprite:Map<string,AnimatedSprite>;\n\n    constructor() {\n        this._animatedSprite = new Map<string, AnimatedSprite>();\n    }\n\n\n    name(): string {\n        return \"animation\";\n    }\n\n    public setAnimatedSprite(direction:string,animatedSprite:AnimatedSprite) : void {\n        this._animatedSprite.set(direction,animatedSprite);\n    }\n\n    public getAnimatedSprite(direction:string) : AnimatedSprite {\n        return this._animatedSprite.get(direction);\n    }\n\n}","import {GameComponent} from \"./gameComponent\";\n\n\nexport class WallComponent implements GameComponent {\n    name(): string {\n        return \"wall\";\n    }\n\n}","import {EntityManager} from \"./entity/entityManager\";\nimport {GameEntity} from \"./entity/gameEntity\";\nimport {PositionComponent} from \"./component/positionComponent\";\nimport {ParticleFactory} from \"../../app/entities/particles/ParticleFactory\";\n\nconst level1 = require(\"../../../resources/maps/level1.json\");\n\nexport interface Level {\n    level: number[]\n}\n\nexport enum TileType {\n    GRASS = 0,\n    WALL = 1,\n    BRICK = 2,\n    WALL_STONE = 3,\n    GRASSY = 4,\n    WATER_EDGE = 5,\n    WATER = 6,\n    WATER_WALL = 7,\n    CRATE = 8,\n    BUSH = 9,\n    FLOWERS = 10,\n    MUSHROOMS = 11\n}\n\nexport class GameMap {\n\n    private static _instance: GameMap;\n    private _level: Map<string, Array<GameEntity>>;\n    private _particles:Array<GameEntity>;\n    private _width: number;\n    private _height: number;\n\n    public static getInstance(): GameMap {\n        if (this._instance === undefined) {\n            this._instance = new GameMap();\n            this._instance.init();\n        }\n\n        return this._instance;\n    }\n\n    public init(): void {\n        this._particles = new Array<GameEntity>();\n        this._level = new Map<string, Array<GameEntity>>();\n        this._level.set(\"tile\", new Array<GameEntity>());\n        this._level.set(\"item\", new Array<GameEntity>());\n        this._level.set(\"decal\", new Array<GameEntity>());\n\n        for (let y = 0; y < this._height; y++) {\n            for (let x = 0; x < this._width; x++) {\n                let tile = level1.map[x + (y * this._width)];\n                let tileEntity: GameEntity = null;\n                let itemEntity: GameEntity = null;\n                let position: PositionComponent = new PositionComponent();\n                position.setX(x);\n                position.setY(y);\n\n                if (tile === TileType.WALL) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"wall\");\n                } else if (tile === TileType.GRASS) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"grass\");\n                } else if (tile === TileType.BRICK) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"destroyedBrick\");\n                    itemEntity = EntityManager.getInstance().getEntity(\"brick\");\n                } else if (tile === TileType.GRASSY) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"grassy\");\n                } else if (tile === TileType.WATER_EDGE) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"waterEdge\");\n                    this.generateMist(position.getX(),position.getY());\n                } else if (tile === TileType.WATER) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"water\");\n                    this.generateMist(position.getX(),position.getY());\n                } else if (tile === TileType.WALL_STONE) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"wallStone\");\n                } else if (tile === TileType.WATER_WALL) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"destroyedWaterWall\");\n                    itemEntity = EntityManager.getInstance().getEntity(\"waterWall\");\n                    this.generateMist(position.getX(),position.getY());\n                } else if (tile === TileType.CRATE) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"destroyedGrass\");\n                    itemEntity = EntityManager.getInstance().getEntity(\"crate\");\n                } else if (tile === TileType.BUSH) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"destroyedBush\");\n                    itemEntity = EntityManager.getInstance().getEntity(\"bush\");\n                } else if (tile === TileType.FLOWERS) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"flowers\");\n                } else if (tile === TileType.MUSHROOMS) {\n                    tileEntity = EntityManager.getInstance().getEntity(\"mushrooms\");\n                }\n\n                if (tileEntity != null) {\n                    tileEntity.addComponent(position);\n                    this._level.get(\"tile\").push(tileEntity);\n                }\n\n                if (itemEntity != null) {\n                    itemEntity.addComponent(position);\n                    this._level.get(\"item\").push(itemEntity);\n                } else {\n                    this._level.get(\"item\").push(null);\n                }\n\n                this._level.get(\"decal\").push(null);\n\n            }\n        }\n    }\n\n    private constructor() {\n        this._width = 19;\n        this._height = 14;\n    }\n\n    public getGameEntity(layer: string, x: number, y: number): GameEntity {\n        return this._level.get(layer)[x + (y * this._width)];\n    }\n\n    public getWidth() : number {\n        return this._width;\n    }\n\n    public getHeight() : number {\n        return this._height;\n    }\n\n    public getMap(): Map<string, Array<GameEntity>> {\n        return this._level;\n    }\n\n    setGameEntity(layer: string, x: number, y: number, entity: GameEntity) {\n\n        if (entity != null) {\n            let position: PositionComponent = new PositionComponent();\n            position.setX(x);\n            position.setY(y);\n            entity.addComponent(position);\n        }\n\n        this._level.get(layer)[x + (y * this._width)] = entity;\n    }\n\n    isWall(x: number, y: number) : boolean {\n        let tile : GameEntity = this.getGameEntity(\"tile\", x,y);\n        let item : GameEntity = this.getGameEntity(\"item\",x,y);\n\n        if (item != null && item.hasComponent(\"wall\")) {\n            return true;\n        }\n\n        if (tile.hasComponent(\"wall\")) {\n            return true;\n        }\n\n\n        return false;\n    }\n\n    hasComponent(componentName: string, x: number, y: number) {\n        let item : GameEntity = this.getGameEntity(\"item\",x,y);\n\n        if (item != null && item.hasComponent(componentName)) {\n            return true;\n        }\n\n        let tile : GameEntity = this.getGameEntity(\"tile\",x,y);\n\n        if (tile != null && tile.hasComponent(componentName)) {\n            return true;\n        }\n\n        return false;\n    }\n\n    public addParticle(gameEntity:GameEntity) : void {\n        this._particles.push(gameEntity);\n    }\n\n    public getParticles() : Array<GameEntity> {\n        return this._particles;\n    }\n\n    public removeParticle(id: number) : void {\n\n    }\n\n    public translateCoordinatesToIdx(x: number, y: number) :number {\n        return x + (y * this._width);\n    }\n\n    canDestroy(x: number, y: number) {\n        let tile : GameEntity = this.getGameEntity(\"tile\", x,y);\n        let item : GameEntity = this.getGameEntity(\"item\",x,y);\n\n        if (item != null && item.hasComponent(\"wall\") && !item.hasComponent(\"destructible\")) {\n            return true;\n        }\n\n        if (tile.hasComponent(\"wall\")) {\n            return true;\n        }\n\n\n\n        return false;\n    }\n\n    private generateMist(x: number, y: number) {\n        for (let i = 0; i < 4; i++) {\n            let mistParticle : GameEntity = ParticleFactory.getParticle(\"mistParticle\", x, y);\n            this.addParticle(mistParticle);\n        }\n    }\n\n    isItemPresent(itemName: string, x: number, y: number) {\n        let item : GameEntity = this.getGameEntity(\"item\",x,y);\n\n        if (item != null && item.getName() === itemName) {\n            return true;\n        }\n\n        return false;\n    }\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class DestructibleComponent implements GameComponent {\n\n    constructor() {\n    }\n\n    name(): string {\n        return \"destructible\";\n    }\n\n\n\n}","\nimport { GameEvent } from \"./gameEvent\";\n\nexport class EventBus {\n\n    private static _instance: EventBus;\n    private _channels: Map<string, Array<EventHandler>>;\n\n    private constructor() { }\n\n    public static getInstance() {\n        if (!EventBus._instance) {\n            EventBus._instance = new EventBus();\n            EventBus._instance._channels = new Map();\n        }\n\n        return EventBus._instance;\n    }\n\n    public register(channel: string, eventhandler: EventHandler): void {\n        if (!this._channels.has(channel)) {\n            console.log(\"Creating new channel ->\" + channel);\n            this._channels.set(channel, new Array());\n        }\n\n        this._channels.get(channel).push(eventhandler);\n    }\n\n    public publish(gameEvent: GameEvent) {\n\n        if (this._channels.has(gameEvent.channel)) {\n            let listeners = this._channels.get(gameEvent.channel);\n\n            for (let listener of listeners) {\n                listener.handleEvent(gameEvent);\n            }\n        } else {\n            console.log(\"No listeners registered for channel -> \" + gameEvent.channel);\n        }\n    }\n}\n\nexport interface EventHandler {\n    handleEvent(gameEvent: GameEvent): void;\n}","import {EntityManager} from \"../../../lib/game/entity/entityManager\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {ParticleComponent} from \"../../../lib/game/component/particleComponent\";\nimport {getRandomInt} from \"../../../lib/game/util/mathUtil\";\nimport {Color} from \"../../../lib/rendering/color\";\nimport {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {Renderer} from \"../../../lib/rendering/renderer\";\n\n\nexport class ParticleFactory {\n\n    public static getParticle(particleName: string, x: number, y: number) : GameEntity {\n        let particle: GameEntity = null;\n\n        return this.refreshParticle(particle, particleName, x, y, false);\n    }\n\n    static refreshParticle(particle: GameEntity,particleName: string, x: number, y: number, refresh: boolean = true) : GameEntity {\n\n        if (particleName === \"smokeParticle\") {\n\n            if (particle == null) {\n                particle = EntityManager.getInstance().getEntity(\"smokeParticle\");\n                particle.addComponent(new ParticleComponent());\n                particle.addComponent(new PositionComponent());\n            }\n\n            let someParticlePosition: PositionComponent = particle.getComponent(\"position\") as PositionComponent;\n            someParticlePosition.setX(x*64);\n            someParticlePosition.setY(y*64);\n\n            particle.addComponent(someParticlePosition);\n\n            let particleComponent : ParticleComponent = particle.getComponent(\"particle\") as ParticleComponent;\n            particleComponent.setVelX(getRandomInt(4) * -1);\n            particleComponent.setVelY(getRandomInt(4) * -1);\n            particleComponent.setX(x*64+getRandomInt(10));\n            particleComponent.setY(y*64+getRandomInt(10));\n            particleComponent.setHeight(getRandomInt(15)+ 35);\n            particleComponent.setWidth(getRandomInt(15) + 35);\n            particleComponent.setDecay(getRandomInt(25));\n            particleComponent.setAlive(true);\n            particleComponent.setRenderOffset(Renderer.getInstance().getRenderOffset());\n\n            let color : Color = new Color();\n\n            let gray =getRandomInt(255);\n\n            color.setRed(gray);\n            color.setGreen(gray);\n            color.setBlue(gray);\n            color.setAlpha(0.20);\n            particleComponent.setColor(color);\n\n            particle.addComponent(\n                particleComponent\n            );\n        }\n\n        if (particleName === \"grassParticle\") {\n\n            if (particle == null) {\n                particle = EntityManager.getInstance().getEntity(\"grassParticle\");\n                particle.addComponent(new ParticleComponent());\n                particle.addComponent(new PositionComponent());\n            }\n\n            let someParticlePosition: PositionComponent = particle.getComponent(\"position\") as PositionComponent;\n            someParticlePosition.setX(x*64);\n            someParticlePosition.setY(y*64);\n\n            particle.addComponent(someParticlePosition);\n\n            let particleComponent : ParticleComponent = particle.getComponent(\"particle\") as ParticleComponent;\n            particleComponent.setVelX(getRandomInt(4) * -1 / 10);\n            particleComponent.setVelY(getRandomInt(4) * -1 / 10);\n            particleComponent.setX(x*64 + getRandomInt(8));\n            particleComponent.setY(y*64 + 60);\n            particleComponent.setHeight(getRandomInt(8));\n            particleComponent.setWidth(getRandomInt(8));\n            particleComponent.setDecay(getRandomInt(10));\n            particleComponent.setAlive(true);\n            particleComponent.setRenderOffset(Renderer.getInstance().getRenderOffset());\n\n            let color : Color = new Color();\n            let gray =getRandomInt(255);\n\n            color.setRed(gray);\n            color.setGreen(gray);\n            color.setBlue(gray);\n            color.setAlpha(0.10);\n            particleComponent.setColor(color);\n\n            particle.addComponent(\n                particleComponent\n            );\n        }  else if (particleName === \"mistParticle\") {\n\n            if (particle == null) {\n                particle = EntityManager.getInstance().getEntity(\"mistParticle\");\n                particle.addComponent(new ParticleComponent());\n                particle.addComponent(new PositionComponent());\n            }\n\n            let someParticlePosition: PositionComponent = particle.getComponent(\"position\") as PositionComponent;\n            someParticlePosition.setX(x*64);\n            someParticlePosition.setY(y*64);\n            particle.addComponent(someParticlePosition);\n\n            let particleComponent: ParticleComponent = particle.getComponent(\"particle\") as ParticleComponent;\n\n\n            if (getRandomInt(10) > 5) {\n                particleComponent.setVelX((getRandomInt(4) / 1000) );\n            } else {\n                particleComponent.setVelX((getRandomInt(4) / 1000) * -1);\n            }\n\n            if (getRandomInt(10) > 5) {\n                particleComponent.setVelY((getRandomInt(4) / 1000) );\n            } else {\n                particleComponent.setVelY((getRandomInt(4) / 1000) * -1);\n            }\n\n            if (!refresh) {\n                particleComponent.setX(x*64+getRandomInt(10));\n                particleComponent.setY(y*64+getRandomInt(10));\n            } else {\n                particleComponent.setX(particleComponent.getOriginalX());\n                particleComponent.setY(particleComponent.getOriginalY());\n            }\n\n            particleComponent.setHeight(getRandomInt(25)+ 35);\n            particleComponent.setWidth(getRandomInt(25) + 35);\n            particleComponent.setDecay(getRandomInt(128));\n            particleComponent.setRespawn(true);\n            particleComponent.setAlive(true);\n            particleComponent.setRenderOffset(Renderer.getInstance().getRenderOffset());\n\n            let color : Color = new Color();\n\n            let gray =getRandomInt(255);\n\n            color.setRed(gray);\n            color.setGreen(gray);\n            color.setBlue(gray);\n            color.setAlpha(0.10);\n            particleComponent.setColor(color);\n\n            particle.addComponent(\n                particleComponent\n            );\n        } else if (particleName === \"rainParticle\") {\n\n            if (particle == null) {\n                particle = EntityManager.getInstance().getEntity(\"rainParticle\");\n                particle.addComponent(new ParticleComponent());\n                particle.addComponent(new PositionComponent());\n            }\n\n            let someParticlePosition: PositionComponent = particle.getComponent(\"position\") as PositionComponent;\n            someParticlePosition.setX(getRandomInt(1000) );\n            someParticlePosition.setY(getRandomInt(1000) * -1);\n            particle.addComponent(someParticlePosition);\n\n            let particleComponent: ParticleComponent = particle.getComponent(\"particle\") as ParticleComponent;\n            particleComponent.setVelX((getRandomInt(4) / 10) );\n            particleComponent.setVelY((getRandomInt(500)) );\n\n\n            if (!refresh) {\n                particleComponent.setX(getRandomInt(2048));\n                particleComponent.setY(getRandomInt(1024) * -1);\n            } else {\n                particleComponent.setX(getRandomInt(2048));\n                particleComponent.setY(getRandomInt(1024) * -1);\n            }\n\n            particleComponent.setHeight(getRandomInt(800));\n            particleComponent.setWidth(getRandomInt(3));\n            particleComponent.setDecay(getRandomInt(40));\n            particleComponent.setRespawn(true);\n            particleComponent.setResize(false);\n            particleComponent.setAlive(true);\n\n            let color : Color = new Color();\n\n            let gray =getRandomInt(255);\n\n            color.setRed(gray);\n            color.setGreen(gray);\n            color.setBlue(gray);\n            color.setAlpha(0.15);\n            particleComponent.setColor(color);\n\n            particle.addComponent(\n                particleComponent\n            );\n        }  else if (particleName === \"winningParticle\") {\n\n            if (particle == null) {\n                particle = EntityManager.getInstance().getEntity(\"winningParticle\");\n                particle.addComponent(new ParticleComponent());\n                particle.addComponent(new PositionComponent());\n            }\n\n            let someParticlePosition: PositionComponent = particle.getComponent(\"position\") as PositionComponent;\n            someParticlePosition.setX(getRandomInt(1000) );\n            someParticlePosition.setY(getRandomInt(1000));\n            particle.addComponent(someParticlePosition);\n\n            let particleComponent: ParticleComponent = particle.getComponent(\"particle\") as ParticleComponent;\n            particleComponent.setVelX((getRandomInt(4) / 10) );\n            particleComponent.setVelY((getRandomInt(500)) * -1);\n\n\n            if (!refresh) {\n                particleComponent.setX(getRandomInt(2048));\n                particleComponent.setY(getRandomInt(1024));\n            } else {\n                particleComponent.setX(getRandomInt(2048));\n                particleComponent.setY(getRandomInt(1024) );\n            }\n\n            particleComponent.setHeight(getRandomInt(800));\n            particleComponent.setWidth(getRandomInt(128));\n            particleComponent.setDecay(getRandomInt(40));\n            particleComponent.setRespawn(true);\n            particleComponent.setResize(false);\n            particleComponent.setAlive(true);\n\n            let color : Color = new Color();\n\n            let colorOffset =getRandomInt(50);\n\n\n\n            color.setRed(50 + colorOffset);\n            color.setGreen(115);\n            color.setBlue(168 + colorOffset);\n            color.setAlpha(0.15);\n            particleComponent.setColor(color);\n\n            particle.addComponent(\n                particleComponent\n            );\n        }   else if (particleName === \"losingParticle\") {\n\n            if (particle == null) {\n                particle = EntityManager.getInstance().getEntity(\"losingParticle\");\n                particle.addComponent(new ParticleComponent());\n                particle.addComponent(new PositionComponent());\n            }\n\n            let someParticlePosition: PositionComponent = particle.getComponent(\"position\") as PositionComponent;\n            someParticlePosition.setX(getRandomInt(1000) );\n            someParticlePosition.setY(getRandomInt(1000));\n            particle.addComponent(someParticlePosition);\n\n            let particleComponent: ParticleComponent = particle.getComponent(\"particle\") as ParticleComponent;\n            particleComponent.setVelX((getRandomInt(4) / 10) );\n            particleComponent.setVelY((getRandomInt(50)) * -1);\n\n\n            if (!refresh) {\n                particleComponent.setX(getRandomInt(2048));\n                particleComponent.setY(getRandomInt(1024));\n            } else {\n                particleComponent.setX(getRandomInt(2048));\n                particleComponent.setY(getRandomInt(1024) );\n            }\n\n            particleComponent.setHeight(getRandomInt(800));\n            particleComponent.setWidth(getRandomInt(128));\n            particleComponent.setDecay(getRandomInt(40));\n            particleComponent.setRespawn(true);\n            particleComponent.setResize(false);\n            particleComponent.setAlive(true);\n\n            let color : Color = new Color();\n\n            let colorOffset =getRandomInt(5);\n\n            if (getRandomInt(10) > 5) {\n                color.setRed(105 + colorOffset);\n                color.setGreen(45 - colorOffset);\n                color.setBlue(44 + colorOffset);\n                color.setAlpha(0.45);\n            } else {\n                color.setRed(colorOffset);\n                color.setGreen(colorOffset);\n                color.setBlue(colorOffset);\n                color.setAlpha(0.45);\n            }\n\n\n            particleComponent.setColor(color);\n\n            particle.addComponent(\n                particleComponent\n            );\n        }\n\n        return particle;\n    }\n}","import {GameEntity} from \"./gameEntity\";\nimport {Grass} from \"../../../app/entities/tile/grass\";\nimport {Wall} from \"../../../app/entities/tile/wall\";\nimport {IdGenerator} from \"./idGenerator\";\nimport {Brick} from \"../../../app/entities/item/brick\";\nimport {Grassy} from \"../../../app/entities/tile/grassy\";\nimport {WaterEdge} from \"../../../app/entities/tile/waterEdge\";\nimport {Water} from \"../../../app/entities/tile/water\";\nimport {WallStone} from \"../../../app/entities/tile/wallStone\";\nimport {WaterWall} from \"../../../app/entities/item/waterWall\";\nimport {Crate} from \"../../../app/entities/item/crate\";\nimport {Bush} from \"../../../app/entities/item/bush\";\nimport {Mushrooms} from \"../../../app/entities/tile/mushrooms\";\nimport {Flowers} from \"../../../app/entities/tile/flowers\";\nimport {Bomb} from \"../../../app/entities/item/bomb\";\nimport {ExplosionLeft} from \"../../../app/entities/item/explosionLeft\";\nimport {ExplosionMiddle} from \"../../../app/entities/item/explosionMiddle\";\nimport {ExplosionRight} from \"../../../app/entities/item/explosionRight\";\nimport {ExplosionTop} from \"../../../app/entities/item/explosionTop\";\nimport {ExplosionBottom} from \"../../../app/entities/item/explosionBottom\";\nimport {DestoryedWaterWall} from \"../../../app/entities/tile/destoryedWaterWall\";\nimport {DestroyedGrass} from \"../../../app/entities/tile/destroyedGrass\";\nimport {DestroyedBrick} from \"../../../app/entities/tile/destroyedBrick\";\nimport {DestroyedBush} from \"../../../app/entities/tile/destroyedBush\";\nimport {BombUp} from \"../../../app/entities/powerups/bombUp\";\nimport {ExplosionUp} from \"../../../app/entities/powerups/explosionUp\";\nimport {SheildUp} from \"../../../app/entities/powerups/sheildUp\";\nimport {Skull} from \"../../../app/entities/powerups/skull\";\nimport {SpeedUp} from \"../../../app/entities/powerups/speedUp\";\nimport {SmokeParticle} from \"../../../app/entities/particles/smokeParticle\";\nimport {GrassParticle} from \"../../../app/entities/particles/grassParticle\";\nimport {MistParticles} from \"../../../app/entities/particles/mistParticles\";\nimport {RainParticle} from \"../../../app/entities/particles/rainParticle\";\nimport {WinningParticle} from \"../../../app/entities/particles/winningParticle\";\nimport {LosingParticles} from \"../../../app/entities/particles/losingParticles\";\nvar cloneDeep = require('lodash.clonedeep');\n\n\nexport class EntityManager {\n    private static _instance:EntityManager;\n    private _entities:Map<string, GameEntity>;\n    private _players:Map<string, GameEntity>;\n\n    public static getInstance() : EntityManager {\n        if (this._instance === undefined) {\n            this._instance = new EntityManager();\n            this._instance._entities = new Map<string, GameEntity>();\n            this._instance._players = new Map<string, GameEntity>();\n            this._instance.init();\n        }\n\n        return this._instance;\n    }\n\n    private init() : void {\n        this.register(new Brick());\n        this.register(new Grass());\n        this.register(new Wall());\n        this.register(new Grassy());\n        this.register(new WallStone());\n        this.register(new WaterEdge());\n        this.register(new WaterWall());\n        this.register(new Water());\n        this.register(new Crate());\n        this.register(new Bush());\n        this.register(new Mushrooms());\n        this.register(new Flowers());\n        this.register(new Bomb());\n\n        this.register(new ExplosionLeft());\n        this.register(new ExplosionRight());\n        this.register(new ExplosionTop());\n        this.register(new ExplosionBottom());\n        this.register(new ExplosionMiddle());\n\n        this.register(new DestoryedWaterWall());\n        this.register(new DestroyedGrass());\n        this.register(new DestroyedBrick());\n        this.register(new DestroyedBush());\n\n        this.register(new BombUp());\n        this.register(new ExplosionUp());\n        this.register(new SheildUp());\n        this.register(new Skull());\n        this.register(new SpeedUp());\n\n        this.register(new SmokeParticle());\n        this.register(new GrassParticle());\n        this.register(new MistParticles());\n        this.register(new RainParticle());\n        this.register(new WinningParticle());\n        this.register(new LosingParticles());\n    }\n\n    private constructor() {\n\n    }\n\n    public registerPlayer(gameEntity: GameEntity) : void {\n        this._players.set(gameEntity.getName(),gameEntity);\n    }\n\n    public getPlayer(playerName: string) : GameEntity {\n        return this._players.get(playerName);\n    }\n\n    public register(gameEntity:GameEntity) : void {\n        this._entities.set(gameEntity.getName(), gameEntity);\n    }\n\n    public getEntity(name: string) : GameEntity {\n        let gameEntity: GameEntity = cloneDeep(this._entities.get(name));\n        gameEntity.setId(IdGenerator.nextId());\n        return gameEntity;\n    }\n\n}","import {Sprite} from \"./spriteSheet\";\nimport {EventBus, EventHandler} from \"../event/eventBus\";\nimport {GameEvent} from \"../event/gameEvent\";\nimport {Color} from \"./Color\";\nimport {RGBtoHex} from \"../game/util/colorUtil\";\n\nexport interface RenderingEffect {\n    offsetX:number,\n    offsetY:number,\n    width:number,\n    height:number,\n    color:Color\n}\n\nexport class Renderer implements EventHandler  {\n    private static _instance:Renderer;\n    private _canvas: HTMLCanvasElement;\n    private _ctx: CanvasRenderingContext2D;\n    private _height: number = window.innerHeight;\n    private _width: number = window.innerWidth;\n    private _renderingEffects:RenderingEffect;\n    private _spriteSize:number;\n\n    public static getInstance() : Renderer {\n\n        if (this._instance === undefined) {\n            this._instance = new Renderer();\n        }\n\n        return this._instance;\n    }\n\n    private constructor() {\n        this._canvas = document.getElementById('canvas') as\n            HTMLCanvasElement;\n\n        this._canvas.width = this._width;\n        this._canvas.height = this._height;\n        this._ctx = this._canvas.getContext(\"2d\");\n        this._ctx.imageSmoothingEnabled = false;\n        this._renderingEffects = {\n            offsetX: 0,\n            offsetY: 0,\n            width:0,\n            height: 0,\n            color: new Color()\n        };\n\n        this._spriteSize = 64;\n        EventBus.getInstance().register(\"rendering\", this);\n\n    }\n\n    clearScreen() {\n        this._ctx.clearRect(0,0,this._canvas.width, this._canvas.height);\n    }\n\n    render(sprite: Sprite, image:HTMLImageElement,x: number, y: number): void {\n\n        try {\n\n            if (this._renderingEffects.color != null && this._renderingEffects.color.getAlpha() > 0) {\n           //     this._ctx.globalAlpha = this._renderingEffects.color.getAlpha() / 1000;\n           //     this._ctx.fillStyle = RGBtoHex(this._renderingEffects.color.getRed(),this._renderingEffects.color.getGreen(),this._renderingEffects.color.getBlue())\n            }\n\n            this._ctx.drawImage(\n                image,\n                sprite.x,\n                sprite.y,\n                24,\n                24,\n                x + this._renderingEffects.offsetX + this.getRenderOffset(),\n                y +this._renderingEffects.offsetY  + this.getRenderOffset(),\n                this._spriteSize + this._renderingEffects.width,\n                this._spriteSize + this._renderingEffects.height\n            );\n        } catch (e) {\n            Error(\"Unable to render\");\n        }\n    }\n\n    public getRenderOffset(): number {\n        return + 100;\n    }\n\n\n    finalRender() : void {\n        let restoreRate : number = 4;\n\n        if (this._renderingEffects.height > 0) {\n            this._renderingEffects.height-=restoreRate;\n        }\n\n        if (this._renderingEffects.height < 0) {\n            this._renderingEffects.height = 0;\n        }\n\n        if (this._renderingEffects.width > 0) {\n            this._renderingEffects.width-=restoreRate;\n        }\n\n        if (this._renderingEffects.width < 0) {\n            this._renderingEffects.width = 0;\n        }\n\n        if (this._renderingEffects.offsetX > 0) {\n            this._renderingEffects.offsetX-=restoreRate;\n        }\n\n        if (this._renderingEffects.offsetX < 0) {\n            this._renderingEffects.offsetX = 0;\n        }\n\n        if (this._renderingEffects.offsetY > 0) {\n            this._renderingEffects.offsetY-=restoreRate;\n        }\n\n        if (this._renderingEffects.offsetY < 0) {\n            this._renderingEffects.offsetY = 0;\n        }\n\n        if (this._renderingEffects.color.getAlpha() > 0) {\n            this._renderingEffects.color.setAlpha(this._renderingEffects.color.getAlpha() - 1);\n        } else if (this._renderingEffects.height < 0) {\n            this._renderingEffects.height = 0;\n        }\n    }\n\n    public resize() {\n        if (this._canvas !== undefined) {\n            this._canvas.width = window.innerWidth;\n            this._canvas.height = window.innerHeight;\n            this._ctx.imageSmoothingEnabled = false;\n        }\n    }\n\n    handleEvent(gameEvent: GameEvent): void {\n        this._renderingEffects = gameEvent.payload;\n    }\n\n    renderImage(image: HTMLImageElement, x: number, y: number, width: number, height: number) {\n        this._ctx.drawImage(\n            image,\n            x,\n            y,\n            width,\n            height\n        );\n    }\n\n    print(msg: string, x: number, y: number, font: string, fontSize: number, color: Color) : void {\n        this._ctx.font = fontSize + \"px \" + font;\n        this._ctx.fillStyle = RGBtoHex(color.getRed(),color.getGreen(),color.getBlue());\n        this._ctx.fillText(msg, x, y);\n    }\n}","\n\nexport class GameEvent {\n    private _channel: string;\n    private _payload: any;\n\n    constructor(channel: string, payload: any) {\n        this._channel = channel;\n        this._payload = payload;\n    }\n\n    get channel() {\n        return this._channel;\n    }\n\n    get payload() {\n        return this._payload;\n    }\n}","import {GameComponent} from \"./gameComponent\";\n\n\nexport class PositionComponent implements GameComponent {\n\n    private _x:number;\n    private _y:number;\n\n    constructor() {\n        this._x = 0;\n        this._y =0;\n    }\n\n    name(): string {\n        return \"position\";\n    }\n\n    public setX(x:number) : void {\n        this._x = x;\n    }\n\n    public setY(y:number) : void {\n        this._y = y;\n    }\n\n    public getX() : number {\n        return this._x;\n    }\n\n    public getY() : number {\n        return this._y;\n    }\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {DamageComponent} from \"../../../lib/game/component/damageComponent\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {GameMap} from \"../../../lib/game/gameMap\";\nimport {DestroyedGrass} from \"../tile/destroyedGrass\";\nimport {ParticleFactory} from \"../particles/ParticleFactory\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {TimerComponent} from \"../../../lib/game/component/timerComponent\";\n\n\nexport class Explosion extends GameEntity {\n\n    constructor(name: string) {\n        super(name);\n    }\n\n    protected create(spriteName: string) : void {\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(spriteName,spriteName));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n        let timerComponent : TimerComponent = new TimerComponent();\n        timerComponent.setTimer(5);\n        timerComponent.setCallback((gameEntity:GameEntity) => {\n            this.explosion(gameEntity);\n        });\n\n        this.addComponent(\n            timerComponent\n        );\n    }\n\n    protected explosion(gameEntity: GameEntity): void {\n        let position: PositionComponent = gameEntity.getComponent(\"position\") as PositionComponent;\n        GameMap.getInstance().setGameEntity(\"item\", position.getX(), position.getY(), null);\n\n        let tile = GameMap.getInstance().getGameEntity(\"tile\", position.getX(), position.getY());\n\n        if (tile.getName() === \"grassy\" || tile.getName() === \"grass\" || tile.getName() === \"flowers\" || tile.getName() === \"mushrooms\") {\n            let damageTile: GameEntity = new DestroyedGrass();\n            damageTile.addComponent(position);\n\n            GameMap.getInstance().setGameEntity(\"tile\", position.getX(), position.getY(), damageTile);\n        }\n\n        for (let i = 0; i < 250; i++) {\n            let smokeParticle = ParticleFactory.getParticle(\"smokeParticle\", position.getX(), position.getY());\n            GameMap.getInstance().addParticle(smokeParticle);\n        }\n\n        tile.addComponent(position);\n        tile.addComponent(new DamageComponent());\n    }\n}","import {GameSystem} from \"./gameSystem\";\nimport {GameEntity} from \"../entity/gameEntity\";\nimport {ParticleComponent} from \"../component/particleComponent\";\nimport {GameMap} from \"../gameMap\";\nimport {RGBtoHex} from \"../util/colorUtil\";\nimport {ParticleFactory} from \"../../../app/entities/particles/ParticleFactory\";\n\n\nexport class ParticleSystem implements GameSystem {\n    private _canvas: HTMLCanvasElement;\n    private _ctx: CanvasRenderingContext2D;\n\n    constructor() {\n        this._canvas = document.getElementById('canvas') as\n            HTMLCanvasElement;\n        this._ctx = this._canvas.getContext(\"2d\");\n    }\n\n    process(gameEntity: GameEntity): void {\n\n        if (gameEntity.hasComponent(\"particle\")) {\n\n            let particle: ParticleComponent = gameEntity.getComponent(\"particle\") as ParticleComponent;\n\n            if (particle.isAlive()) {\n                particle.setX(particle.getX() + particle.getVelX());\n                particle.setY(particle.getY() + particle.getVelY());\n\n                if (particle.shouldResize()) {\n                    particle.setWidth(particle.getWidth() - 1);\n                    particle.setHeight(particle.getHeight() - 1);\n                }\n\n                particle.getColor().setAlpha(particle.getColor().getAlpha() - 0.000001);\n                particle.setDecay(particle.getDecay() - 1);\n\n                this._ctx.globalAlpha = particle.getColor().getAlpha();\n\n                this._ctx.beginPath();\n                this._ctx.rect(particle.getX() + particle.getRenderOffset(),\n                    particle.getY() + particle.getRenderOffset(),\n                    particle.getWidth(),\n                    particle.getHeight());\n                this._ctx.fillStyle = RGBtoHex(particle.getColor().getRed(), particle.getColor().getGreen(), particle.getColor().getBlue());\n                this._ctx.fill();\n                this._ctx.closePath();\n            } else if (!particle.isAlive() && !particle.shouldRespawn()) {\n                GameMap.getInstance().removeParticle(gameEntity.getId());\n            } else if (!particle.isAlive() && particle.shouldRespawn()) {\n                 ParticleFactory.refreshParticle(gameEntity, gameEntity.getName(), particle.getX(), particle.getY());\n            } else {\n\n            }\n\n            if (particle.getDecay() <= 0) {\n                particle.setAlive(false);\n            }\n\n            this._ctx.globalAlpha = 1.0;\n        }\n    }\n\n}","\n\nexport function getDecimal(n:number) : number {\n    return (n - Math.floor(n));\n}\n\nexport function getRandomInt(max: number) : number {\n    return Math.floor(Math.random() * (max - 1 + 1) + 1);\n}\n\nexport function getRandomBetween(min: number, max: number) : number {\n    return Math.floor(Math.random() * (max - 1 + min) + min);\n}\n\nexport function getRandomArrayElement(array: Array<any>) : number {\n    return getRandomBetween(0, array.length);\n}\n\nexport function positiveNegative() : number {\n    if (getRandomInt(10) > 5) {\n        return -1;\n    } else {\n        return 1;\n    }\n}\n\nexport interface Point {\n    x: number,\n    y: number\n}","\n\nexport class Color {\n    private _red: number;\n    private _green:number;\n    private _blue:number;\n    private _alpha:number;\n\n    constructor() {\n        this._alpha = 0;\n    }\n\n    public setRed(red: number) : void {\n        this._red = red;\n    }\n\n    public getRed() : number {\n        return this._red;\n    }\n\n    public setGreen(green:number) : void {\n        this._green = green;\n    }\n\n    public getGreen() : number {\n        return this._green;\n    }\n\n    public setBlue(blue:number): void {\n        this._blue = blue;\n    }\n\n    public getBlue() : number {\n        return this._blue;\n    }\n\n    public setAlpha(alpha: number) : void {\n        this._alpha = alpha;\n    }\n\n    public getAlpha() : number {\n        return this._alpha;\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {SpeedComponent} from \"../../../lib/game/component/speedComponent\";\nimport {VelocityComponent} from \"../../../lib/game/component/velocityComponent\";\nimport {RenderPositionComponent} from \"../../../lib/game/component/renderPositionComponent\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {EntityManager} from \"../../../lib/game/entity/entityManager\";\nimport {InventoryComponent} from \"../../../lib/game/component/inventoryComponent\";\n\n\n\nexport class Player extends GameEntity {\n\n    constructor(name: string) {\n        super(name);\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"players\");\n\n        let position : PositionComponent = new PositionComponent();\n        position.setX(1);\n        position.setY(1);\n\n        this.addComponent(\n            position\n        );\n\n        let renderPosition : RenderPositionComponent = new RenderPositionComponent();\n        renderPosition.setX(64);\n        renderPosition.setY(64);\n\n        this.addComponent(\n            renderPosition\n        );\n\n        let frontSprite: AnimatedSprite =new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"players\"));\n        frontSprite.addSprite(spriteSheet.getSprite(name,\"front1\"));\n        frontSprite.addSprite(spriteSheet.getSprite(name,\"front2\"));\n        frontSprite.addSprite(spriteSheet.getSprite(name,\"front3\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",frontSprite);\n\n        let backSprite: AnimatedSprite =new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"players\"));\n        backSprite.addSprite(spriteSheet.getSprite(name,\"back1\"));\n        backSprite.addSprite(spriteSheet.getSprite(name,\"back2\"));\n        backSprite.addSprite(spriteSheet.getSprite(name,\"back3\"));\n\n        animationComponent.setAnimatedSprite(\"up\",backSprite);\n\n        let leftSprite: AnimatedSprite =new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"players\"));\n        leftSprite.addSprite(spriteSheet.getSprite(name,\"left1\"));\n        leftSprite.addSprite(spriteSheet.getSprite(name,\"left2\"));\n        leftSprite.addSprite(spriteSheet.getSprite(name,\"left3\"));\n\n        animationComponent.setAnimatedSprite(\"left\",leftSprite);\n\n        let rightSprite: AnimatedSprite =new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"players\"));\n        rightSprite.addSprite(spriteSheet.getSprite(name,\"right1\"));\n        rightSprite.addSprite(spriteSheet.getSprite(name,\"right2\"));\n        rightSprite.addSprite(spriteSheet.getSprite(name,\"right3\"));\n\n        animationComponent.setAnimatedSprite(\"right\",rightSprite);\n\n        let deadSprite: AnimatedSprite =new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"players\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death1\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death2\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death3\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death4\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death5\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death6\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death7\"));\n        deadSprite.addSprite(spriteSheet.getSprite(name,\"death8\"));\n\n        animationComponent.setAnimatedSprite(\"dead\",deadSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let speed : SpeedComponent = new SpeedComponent();\n        speed.setSpeed(12);\n\n        this.addComponent(\n            speed\n        );\n\n        let velocity : VelocityComponent = new VelocityComponent();\n        velocity.setVelX(0);\n        velocity.setVelY(0);\n\n        this.addComponent(\n            velocity\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n        this.addComponent(\n            new InventoryComponent()\n        );\n\n        EntityManager.getInstance().registerPlayer(this);\n    }\n\n\n\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class AiComponent implements GameComponent {\n\n    private _lastMove:number;\n\n    constructor() {\n        this._lastMove = new Date().getTime();\n    }\n\n    name(): string {\n        return \"ai\";\n    }\n\n    public updateMove() : void {\n        this._lastMove = new Date().getTime();\n    }\n\n    public getLastMove() : number {\n        return this._lastMove;\n    }\n\n\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class EnemyComponent implements GameComponent {\n\n    private _enemyName:string;\n\n    constructor() {\n        this._enemyName = null;\n    }\n\n    name(): string {\n        return \"enemy\";\n    }\n\n   public setEnemyName(enemyName: string) : void {\n        this._enemyName = enemyName;\n   }\n\n   public getEnemyName() : string {\n        return this._enemyName;\n   }\n\n\n\n}","\n\nexport enum KeyboardInput {\n    SPACE = 32,\n    UP = 38,\n    DOWN=40,\n    LEFT= 37,\n    RIGHT= 39,\n    ENTER = 13\n}","import {GameEvent} from \"../event/gameEvent\";\n\n\nexport interface OverLayScreen  {\n    init(): void;\n    gameLoop(): void;\n    keyboard(gameEvent:GameEvent): void;\n    isActive(): boolean;\n    enable(): void;\n    disable(): void;\n}\n\nexport class OverLayBase  {\n    protected _active: boolean;\n\n    public setActive(active: boolean) : void {\n        this._active = active;\n    }\n\n    public getActive() : boolean {\n        return this._active;\n    }\n}","module.exports = __webpack_public_path__ + \"bf9ad15865dfb87ad0db05003d2e1c97.png\";","\nexport class IdGenerator {\n    private static _id: number = 0;\n\n    public static nextId() : number {\n        this._id++;\n        return this._id;\n    }\n\n}","\n\nexport class Color {\n    private _red: number;\n    private _green:number;\n    private _blue:number;\n    private _alpha:number;\n\n    constructor() {\n        this._alpha = 0;\n    }\n\n    public setRed(red: number) : void {\n        this._red = red;\n    }\n\n    public getRed() : number {\n        return this._red;\n    }\n\n    public setGreen(green:number) : void {\n        this._green = green;\n    }\n\n    public getGreen() : number {\n        return this._green;\n    }\n\n    public setBlue(blue:number): void {\n        this._blue = blue;\n    }\n\n    public getBlue() : number {\n        return this._blue;\n    }\n\n    public setAlpha(alpha: number) : void {\n        this._alpha = alpha;\n    }\n\n    public getAlpha() : number {\n        return this._alpha;\n    }\n}","\nexport function RGBtoHex(red: number, green: number, blue: number) : string{\n    return \"#\" + red.toString(16) + green.toString(16) + blue.toString(16);\n}","import {GameComponent} from \"./gameComponent\";\n\n\nexport class TimerComponent implements GameComponent {\n\n    private _timer: number = 5;\n    private _callBack:Function;\n\n    public getTimer() : number {\n        return this._timer;\n    }\n\n    name(): string {\n        return \"timer\";\n    }\n\n    setTimer(timer: number) : void {\n        this._timer = timer;\n    }\n\n    setCallback(callBack:Function) : void {\n        this._callBack = callBack;\n    }\n\n    getCallBack() : Function {\n        return this._callBack;\n    }\n}","import {GameComponent} from \"./gameComponent\";\n\n\nexport class VelocityComponent implements GameComponent {\n\n    private _velX:number;\n    private _velY:number;\n\n    constructor() {\n        this._velX =0;\n        this._velY =0;\n    }\n\n    name(): string {\n        return \"velocity\";\n    }\n\n    public setVelX(velX:number) : void {\n        this._velX = velX;\n    }\n\n    public getVelX() : number {\n        return this._velX;\n    }\n\n    public setVelY(velY:number) : void {\n        this._velY = velY;\n    }\n\n    public getVelY() : number {\n        return this._velY;\n    }\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class DamageComponent implements GameComponent {\n\n    constructor() {\n    }\n\n    name(): string {\n        return \"damage\";\n    }\n\n\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class DestroyedGrass extends GameEntity {\n\n    constructor() {\n        super(\"destroyedGrass\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"destroyedGrass\",\"destroyedGrass\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameSystem} from \"./gameSystem\";\nimport {CollisionSystem} from \"./collisionSystem\";\nimport {RenderSystem} from \"./renderSystem\";\nimport {TimerSystem} from \"./timerSystem\";\nimport {AttackSystem} from \"./attackSystem\";\nimport {DamageSystem} from \"./damageSystem\";\nimport {ParticleSystem} from \"./particleSystem\";\nimport {AiSystem} from \"./aiSystem\";\n\n\nexport class SystemManager {\n\n    private static _instance:SystemManager;\n    private _gameSystems:Array<GameSystem>;\n\n    public static getInstance() : SystemManager {\n        if (this._instance === undefined) {\n            this._instance = new SystemManager();\n            this._instance._gameSystems = new Array<GameSystem>();\n            this._instance.init();\n        }\n\n        return this._instance;\n    }\n\n    private init() : void {\n        this.register(new CollisionSystem());\n        this.register(new TimerSystem());\n        this.register(new AttackSystem());\n        this.register(new DamageSystem());\n        this.register(new AiSystem());\n\n\n        this.register(new RenderSystem());\n        this.register(new ParticleSystem());\n    }\n\n    private constructor() {\n\n    }\n\n    public register(gameSystem: GameSystem) : void {\n        this._gameSystems.push(gameSystem);\n    }\n\n    public getSystems() : Array<GameSystem> {\n        return this._gameSystems;\n    }\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class AnimateComponent implements GameComponent {\n\n    constructor() {\n    }\n\n    name(): string {\n        return \"animate\";\n    }\n\n\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class AttackComponent implements GameComponent {\n\n    constructor() {\n    }\n\n    name(): string {\n        return \"attack\";\n    }\n\n\n\n}","import {EventBus, EventHandler} from \"../event/eventBus\";\nimport {GameEvent} from \"../event/gameEvent\";\nimport {AudioFile} from \"./audioFile\";\n\nconst music = require(\"../../../resources/audio/music.ogg\");\nconst explosion = require(\"../../../resources/audio/explosion.ogg\");\n\nexport class AudioManager implements EventHandler {\n    private static _instance:AudioManager;\n    private _soundMap : Map<string, AudioFile>;\n\n    public static getInstance() : AudioManager {\n        if (this._instance === undefined) {\n            this._instance = new AudioManager();\n            this._instance._soundMap = new Map<string, AudioFile>();\n            this._instance.init();\n        }\n\n        return this._instance;\n    }\n\n    private init() : void {\n        let soundCheck = new Audio();\n\n        this.register(\"music\",music);\n        this.register(\"explosion1\", explosion);\n        this.register(\"explosion2\", explosion);\n        this.register(\"explosion3\", explosion);\n\n        if (!soundCheck.canPlayType('audio/ogg')) {\n           Error(\"Your browser doesn't support audio/ogg\");\n        }\n    }\n\n    private register(name: string, audioFile: string) : void {\n        this._soundMap.set(name, new AudioFile(audioFile, false));\n    }\n\n    public play(name: string) : void {\n        this._soundMap.get(name).play();\n    }\n\n    private constructor() {\n        EventBus.getInstance().register(\"audio\", this);\n    }\n\n\n\n    handleEvent(gameEvent: GameEvent): void {\n        this.play(gameEvent.payload);\n    }\n\n\n\n\n}","import {Bomberman} from \"./app/bomberman\";\nrequire('../css/main.css');\n\nvar bomberman : Bomberman;\n\nwindow.onload = () => {\n    bomberman  = new Bomberman();\n    bomberman.init();\n};\n\nwindow.onresize = function() {\n    bomberman.resize();\n};","import {GameMap} from \"../lib/game/gameMap\";\nimport {GameMode} from \"./modes/modes\";\nimport {Game} from \"./modes/game\";\nimport {GameScreen} from \"../lib/application/gameScreen\";\nimport {EventBus, EventHandler} from \"../lib/event/eventBus\";\nimport {GameEvent} from \"../lib/event/gameEvent\";\nimport {Renderer} from \"../lib/rendering/renderer\";\nimport {Application} from \"../lib/application/application\";\nimport {StartGame} from \"./modes/startGame\";\nimport {Victory} from \"./modes/victory\";\nimport {GameOver} from \"./modes/gameOver\";\nimport {OverLayScreen} from \"../lib/application/overLayScreen\";\n\n\nconst framesPerSecond: number = 60;\n\nexport class Bomberman extends Application implements EventHandler {\n\n    private _gameScreens:Map<GameMode,GameScreen>;\n    private _gameOverlayScreen:Map<string,OverLayScreen>;\n\n    private _gameMode:GameMode;\n    private _renderer:Renderer;\n    private _deathCount: number = 0;\n\n    init() {\n\n        GameMap.getInstance();\n        this._renderer = Renderer.getInstance();\n\n        this._gameScreens = new Map<GameMode, GameScreen>();\n        this._gameOverlayScreen = new Map<string,OverLayScreen>();\n\n        this._gameScreens.set(GameMode.PLAYING, new Game());\n        this._gameScreens.get(GameMode.PLAYING).init();\n\n        this._gameOverlayScreen.set(\"startGame\",new StartGame());\n        this._gameOverlayScreen.set(\"victory\",new Victory());\n        this._gameOverlayScreen.set(\"gameOver\",new GameOver());\n\n        this._gameMode = GameMode.PLAYING;\n\n        EventBus.getInstance().register(\"keyboardEvent\", this);\n        EventBus.getInstance().register(\"gameOver\", this);\n        EventBus.getInstance().register(\"death\", this);\n        EventBus.getInstance().register(\"startGame\", this);\n\n        this._gameOverlayScreen.get(\"startGame\").enable();\n        this.gameLoop();\n    }\n\n    gameLoop() {\n        this._renderer.clearScreen();\n\n        this._gameScreens.get(this._gameMode).gameLoop();\n\n        for (let key of this._gameOverlayScreen.keys()) {\n            if (this._gameOverlayScreen.get(key).isActive()) {\n                this._gameOverlayScreen.get(key).gameLoop();\n            }\n        }\n\n        this._renderer.finalRender();\n\n        setTimeout(() => {\n            requestAnimationFrame(this.gameLoop.bind(this));\n        }, 1000 / framesPerSecond);\n    }\n\n    handleEvent(gameEvent: GameEvent): void {\n\n        if (gameEvent.channel === \"keyboardEvent\") {\n\n            for (let key of this._gameOverlayScreen.keys()) {\n                if (this._gameOverlayScreen.get(key).isActive()) {\n                    this._gameOverlayScreen.get(key).keyboard(gameEvent);\n                    return;\n                }\n            }\n\n            this._gameScreens.get(this._gameMode).keyboard(gameEvent);\n        } else if (gameEvent.channel === \"startGame\") {\n            this._deathCount = 0;\n            let game : Game = this._gameScreens.get(GameMode.PLAYING) as Game;\n            game.reset(true);\n            this._gameOverlayScreen.get(\"startGame\").disable();\n            this._gameOverlayScreen.get(\"gameOver\").disable();\n            this._gameOverlayScreen.get(\"victory\").disable();\n        } else if (gameEvent.channel === \"gameOver\") {\n            this._gameOverlayScreen.get(\"gameOver\").enable();\n            this._gameOverlayScreen.get(\"victory\").disable();\n        } else if (gameEvent.channel === \"death\") {\n           this._deathCount++;\n\n           if (this._deathCount >= 3) {\n               if (this._gameOverlayScreen.get(\"startGame\").isActive()) {\n                   this._gameOverlayScreen.get(\"gameOver\").disable();\n                   this._deathCount = 0;\n                   let game : Game = this._gameScreens.get(GameMode.PLAYING) as Game;\n                   game.reset(false);\n\n                   return;\n               }\n               this._gameOverlayScreen.get(\"victory\").enable();\n           }\n\n        }\n    }\n\n\n\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class Grass extends GameEntity {\n\n    constructor() {\n        super(\"grass\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"grass\",\"grass\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {Renderer} from \"./renderer\";\n\nexport interface Sprite {\n    name: string,\n    x: number,\n    y: number\n}\n\nexport interface SpriteSeries {\n    name: string;\n    definition: Sprite[];\n}\n\nexport interface SpriteSheetDefinition {\n    filename: string;\n    sprites: SpriteSeries[];\n}\n\nexport class SpriteSheet {\n    _image: HTMLImageElement;\n    _spriteSheetDefinition: SpriteSheetDefinition;\n    _spriteCache: Map<string, Sprite>;\n\n    constructor(spriteSheetDefinition:SpriteSheetDefinition) {\n        this._spriteSheetDefinition = spriteSheetDefinition;\n        this._spriteCache = new Map<string, Sprite>();\n    }\n\n    public load(imageFilename: string) {\n        this._image = new Image();\n        this._image.src = imageFilename;\n    }\n\n    public getSprite(spriteName: string, frameName: string) : Sprite {\n\n        if (this._spriteCache.has(spriteName + \"#\" + frameName)) {\n            return this._spriteCache.get(spriteName + \"#\" + frameName);\n        }\n\n        for (let i = 0; i < this._spriteSheetDefinition.sprites.length; i++) {\n            if (this._spriteSheetDefinition.sprites[i].name === spriteName) {\n                for (let j = 0; j < this._spriteSheetDefinition.sprites[i].definition.length; j++) {\n                    if (this._spriteSheetDefinition.sprites[i].definition[j].name === frameName) {\n\n                        this._spriteCache.set(spriteName + \"#\" + frameName, this._spriteSheetDefinition.sprites[i].definition[j]);\n                        return this._spriteSheetDefinition.sprites[i].definition[j];\n                    }\n                }\n\n                throw Error(\"Unable to find frameName ->\" + frameName);\n            }\n        }\n\n        throw Error(\"Unable to find sprite ->\" + spriteName);\n    }\n\n    public render(ctx: CanvasRenderingContext2D, sprite: Sprite, x: number, y: number) {\n        Renderer.getInstance()\n            .render(sprite, this._image, x,y);\n    }\n\n\n\n}","module.exports = __webpack_public_path__ + \"ec042640615f2c932201549e3e64442d.png\";","module.exports = __webpack_public_path__ + \"eedd6bf240c29ad625c91bea258dee82.png\";","\nimport {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class Wall extends GameEntity {\n\n    constructor() {\n        super(\"wall\");\n\n        this.addComponent(new WallComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n\n        let animatedSprite: AnimatedSprite =new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"wall\",\"wall\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class Brick extends GameEntity {\n\n    constructor() {\n        super(\"brick\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"brick\",\"brick\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class Grassy extends GameEntity {\n\n    constructor() {\n        super(\"grassy\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"grassy\",\"grassy\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class WaterEdge extends GameEntity {\n\n    constructor() {\n        super(\"waterEdge\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"water1\",\"water1\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class Water extends GameEntity {\n\n    constructor() {\n        super(\"water\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"water2\",\"water2\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","\nimport {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class WallStone extends GameEntity {\n\n    constructor() {\n        super(\"wallStone\");\n\n        this.addComponent(new WallComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n\n        let animatedSprite: AnimatedSprite =new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"wallStone\",\"wallStone\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class WaterWall extends GameEntity {\n\n    constructor() {\n        super(\"waterWall\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant1\",\"waterPlant1\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant2\",\"waterPlant2\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant3\",\"waterPlant3\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant4\",\"waterPlant4\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant5\",\"waterPlant5\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant4\",\"waterPlant4\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant3\",\"waterPlant3\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"waterPlant2\",\"waterPlant2\"));\n        animatedSprite.setFrameRate(8);\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class Crate extends GameEntity {\n\n    constructor() {\n        super(\"crate\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"crate\",\"crate\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class Bush extends GameEntity {\n\n    constructor() {\n        super(\"bush\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bush\",\"bush\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class Mushrooms extends GameEntity {\n\n    constructor() {\n        super(\"mushrooms\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"mushrooms\",\"mushrooms\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class Flowers extends GameEntity {\n\n    constructor() {\n        super(\"flowers\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"flowers\",\"flowers\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {TimerComponent} from \"../../../lib/game/component/timerComponent\";\nimport {VelocityComponent} from \"../../../lib/game/component/velocityComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\nimport {ExplosiveComponent} from \"../../../lib/game/component/explosiveComponent\";\nimport {GameMap} from \"../../../lib/game/gameMap\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {EntityManager} from \"../../../lib/game/entity/entityManager\";\nimport {DamageComponent} from \"../../../lib/game/component/damageComponent\";\nimport {EventBus} from \"../../../lib/event/eventBus\";\nimport {GameEvent} from \"../../../lib/event/gameEvent\";\nimport {RenderingEffect} from \"../../../lib/rendering/renderer\";\nimport {Color} from \"../../../lib/rendering/Color\";\nimport {OwnerComponent} from \"../../../lib/game/component/ownerComponent\";\nimport {InventoryComponent} from \"../../../lib/game/component/inventoryComponent\";\nimport {getRandomInt, positiveNegative} from \"../../../lib/game/util/mathUtil\";\nimport {FutureDamageComponent} from \"../../../lib/game/component/futureDamage\";\n\n\nexport class Bomb extends GameEntity {\n\n    constructor() {\n        super(\"bomb\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n        this.addComponent(new ExplosiveComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bomb1\", \"bomb1\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bomb1\", \"bomb1\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bomb2\", \"bomb2\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bomb3\", \"bomb3\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bomb4\", \"bomb4\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bomb5\", \"bomb5\"));\n        animatedSprite.setFrameRate(8);\n\n        let animationComponent: AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\", animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let timerComponent: TimerComponent = new TimerComponent();\n        timerComponent.setTimer(20);\n        timerComponent.setCallback((gameEntity: GameEntity) => {\n\n            EventBus.getInstance().publish(new GameEvent(\"audio\",\"explosion\" + getRandomInt(3)));\n            let owner : OwnerComponent = gameEntity.getComponent(\"owner\") as OwnerComponent;\n\n            let player : GameEntity = EntityManager.getInstance().getPlayer(owner.getOwner());\n            let inventory : InventoryComponent = player.getComponent(\"inventory\") as InventoryComponent;\n            inventory.setCurrentItems(inventory.getCurrentItems() + 1);\n\n            let explosionColor: Color = new Color();\n            explosionColor.setAlpha(25);\n            explosionColor.setRed(226);\n            explosionColor.setGreen(236);\n            explosionColor.setBlue(60);\n\n\n            EventBus.getInstance().publish(new GameEvent(\"rendering\", {\n                offsetX: getRandomInt(50) * positiveNegative(),\n                offsetY: getRandomInt(50) * positiveNegative(),\n                width: getRandomInt(8) * positiveNegative(),\n                height: getRandomInt(8) * positiveNegative(),\n                color: explosionColor\n            } as RenderingEffect));\n\n\n\n            let position: PositionComponent = gameEntity.getComponent(\"position\") as PositionComponent;\n            GameMap.getInstance().setGameEntity(\"item\", position.getX(), position.getY(), null);\n\n            let explosionMiddle: GameEntity = EntityManager.getInstance().getEntity(\"explosionMiddle\");\n            explosionMiddle.addComponent(position);\n            GameMap.getInstance().setGameEntity(\"item\", position.getX(), position.getY(), explosionMiddle);\n\n            let explosive: ExplosiveComponent = gameEntity.getComponent(\"explosive\") as ExplosiveComponent;\n\n            this.setFutureDamage(position, explosive);\n\n            // left\n            for (let i = 1; i <= explosive.getArea(); i++) {\n                let explosionLeft: GameEntity = EntityManager.getInstance().getEntity(\"explosionLeft\");\n                let explosionPosition: PositionComponent = new PositionComponent();\n\n                explosionPosition.setX(position.getX() - i);\n                explosionPosition.setY(position.getY());\n\n                if (!this.placeExplosion(explosionPosition, explosionLeft)) {\n                    break;\n                }\n\n            }\n\n            // right\n            for (let i = 1; i <= explosive.getArea(); i++) {\n                let explosionRight: GameEntity = EntityManager.getInstance().getEntity(\"explosionRight\");\n                let explosionPosition: PositionComponent = new PositionComponent();\n\n                explosionPosition.setX(position.getX() + i);\n                explosionPosition.setY(position.getY());\n\n                if (!this.placeExplosion(explosionPosition, explosionRight)) {\n                    break;\n                }\n            }\n\n            // up\n            for (let i = 1; i <= explosive.getArea(); i++) {\n                let explosionTop: GameEntity = EntityManager.getInstance().getEntity(\"explosionTop\");\n                let explosionPosition: PositionComponent = new PositionComponent();\n\n                explosionPosition.setX(position.getX());\n                explosionPosition.setY(position.getY() - i);\n\n                if (!this.placeExplosion(explosionPosition, explosionTop)) {\n                    break;\n                }\n            }\n\n            // bottom\n            for (let i = 1; i <= explosive.getArea(); i++) {\n                let explosionBottom: GameEntity = EntityManager.getInstance().getEntity(\"explosionBottom\");\n                let explosionPosition: PositionComponent = new PositionComponent();\n\n                explosionPosition.setX(position.getX());\n                explosionPosition.setY(position.getY() + i);\n\n                if (!this.placeExplosion(explosionPosition, explosionBottom)) {\n                    break;\n                }\n            }\n\n        });\n\n        this.addComponent(\n            timerComponent\n        );\n\n        let directionComponent: DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n        let velocity: VelocityComponent = new VelocityComponent();\n        velocity.setVelX(0);\n        velocity.setVelY(0);\n\n        this.addComponent(\n            velocity\n        );\n\n    }\n\n    private placeExplosion(explosionPosition: PositionComponent, explosionEntity: GameEntity): boolean {\n        if (GameMap.getInstance().isWall(explosionPosition.getX(), explosionPosition.getY()) &&\n            !GameMap.getInstance().hasComponent(\"destructible\", explosionPosition.getX(), explosionPosition.getY())) {\n            return false;\n        }\n\n        explosionEntity.addComponent(explosionPosition);\n        explosionEntity.addComponent(new DamageComponent());\n\n        GameMap.getInstance().setGameEntity(\"item\", explosionPosition.getX(), explosionPosition.getY(), explosionEntity);\n        return true;\n    }\n\n\n    private setFutureDamage(position: PositionComponent, explosive: ExplosiveComponent) : void {\n        // left\n        for (let i = 1; i <= explosive.getArea(); i++) {\n            let tile : GameEntity = GameMap.getInstance().getGameEntity(\"tile\", position.getX() - i,position.getY());\n            tile.addComponent(new FutureDamageComponent());\n        }\n\n        // right\n        for (let i = 1; i <= explosive.getArea(); i++) {\n            let tile : GameEntity = GameMap.getInstance().getGameEntity(\"tile\", position.getX() + i,position.getY());\n            tile.addComponent(new FutureDamageComponent());\n        }\n\n        // up\n        for (let i = 1; i <= explosive.getArea(); i++) {\n            let tile : GameEntity = GameMap.getInstance().getGameEntity(\"tile\", position.getX(),position.getY() - i);\n            tile.addComponent(new FutureDamageComponent());\n        }\n\n        // bottom\n        for (let i = 1; i <= explosive.getArea(); i++) {\n            let tile : GameEntity = GameMap.getInstance().getGameEntity(\"tile\", position.getX() ,position.getY() + i);\n            tile.addComponent(new FutureDamageComponent());\n        }\n    }\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class ExplosiveComponent implements GameComponent {\n\n    private _area: number;\n\n    constructor() {\n        this._area = 1;\n    }\n\n    name(): string {\n        return \"explosive\";\n    }\n\n    public getArea() : number {\n        return this._area;\n    }\n\n    public setArea(area:number) : void {\n        this._area = area;\n    }\n\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class FutureDamageComponent implements GameComponent {\n\n    constructor() {\n    }\n\n    name(): string {\n        return \"futureDamage\";\n    }\n\n\n\n}","import {Explosion} from \"./explosion\";\n\nexport class ExplosionLeft extends Explosion {\n\n    constructor() {\n        super(\"explosionLeft\");\n        this.create(\"explosionLeft\");\n    }\n}","import {GameComponent} from \"./gameComponent\";\nimport {Color} from \"../../rendering/Color\";\n\n\nexport class ParticleComponent implements GameComponent {\n\n    private _x:number;\n    private _y:number;\n    private _velX:number;\n    private _velY:number;\n    private _width: number;\n    private _height:number;\n    private _color:Color;\n    private _decay:number;\n    private _respawn:boolean;\n    private _alive:boolean;\n\n    private _originalX:number;\n    private _originalY:number;\n    private _resize:boolean;\n    private _renderOffset:number;\n\n    constructor() {\n        this._x = null;\n        this._y = null;\n        this._decay = 50;\n        this._respawn = false;\n        this._alive = true;\n        this._resize = true;\n        this._renderOffset = 0;\n    }\n\n    name(): string {\n        return \"particle\";\n    }\n\n    public setOriginalX(originalX: number) : void {\n        this._originalX = originalX;\n    }\n\n    public getOriginalX() : number {\n        return this._originalX;\n    }\n\n    public setOriginalY(originalY: number) : void {\n        this._originalY = originalY;\n    }\n\n    public getOriginalY() : number {\n        return this._originalY;\n    }\n\n    public setX(x:number) : void {\n\n        if (this._x == null) {\n            this._originalX = x;\n        }\n\n        this._x = x;\n    }\n\n    public setY(y:number) : void {\n\n        if (this._y == null) {\n            this._originalY = y;\n        }\n\n        this._y = y;\n    }\n\n    public getX() : number {\n        return this._x;\n    }\n\n    public getY() : number {\n        return this._y;\n    }\n\n    public setVelX(velX: number) : void {\n        this._velX = velX;\n    }\n\n    public getVelX() : number {\n        return this._velX;\n    }\n\n    public setVelY(velY: number) : void {\n        this._velY = velY;\n    }\n\n    public getVelY() : number {\n        return this._velY;\n    }\n\n    public setWidth(width: number) : void {\n        this._width = width;\n    }\n\n    public getWidth() : number {\n        return this._width;\n    }\n\n    public setHeight(height: number) : void {\n        this._height = height;\n    }\n\n    public getHeight() : number {\n        return this._height;\n    }\n\n    public setColor(color: Color) : void {\n        this._color = color;\n    }\n\n    public getColor() : Color {\n        return this._color;\n    }\n\n    public setDecay(decay:number) : void {\n        this._decay = decay;\n    }\n\n    public getDecay() : number {\n        return this._decay;\n    }\n\n    public setRespawn(respawn: boolean) : void {\n        this._respawn = respawn;\n    }\n\n    public shouldRespawn() : boolean {\n        return this._respawn;\n    }\n\n    public setAlive(alive:boolean) : void {\n        this._alive = alive;\n    }\n\n    public isAlive() : boolean {\n        return this._alive;\n    }\n\n    public setResize(resize:boolean) : void {\n        this._resize = resize;\n    }\n\n    public shouldResize() : boolean {\n        return this._resize;\n    }\n\n    public getRenderOffset() : number {\n        return this._renderOffset;\n    }\n\n    public setRenderOffset(renderOffset:number) : void {\n        this._renderOffset = renderOffset;\n    }\n}","import {Explosion} from \"./explosion\";\n\n\nexport class ExplosionMiddle extends Explosion {\n\n    constructor() {\n        super(\"explosionMiddle\");\n        this.create(\"explosionMiddle\");\n\n    }\n\n\n}","import {Explosion} from \"./explosion\";\n\nexport class ExplosionRight extends Explosion {\n\n    constructor() {\n        super(\"explosionRight\");\n        this.create(\"explosionRight\");\n    }\n}","import {Explosion} from \"./explosion\";\n\nexport class ExplosionTop extends Explosion {\n\n    constructor() {\n        super(\"explosionTop\");\n        this.create(\"explosionTop\");\n    }\n}","import {Explosion} from \"./explosion\";\n\nexport class ExplosionBottom extends Explosion {\n\n    constructor() {\n        super(\"explosionBottom\");\n        this.create(\"explosionBottom\");\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class DestoryedWaterWall extends GameEntity {\n\n    constructor() {\n        super(\"destroyedWaterWall\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"destroyedWaterWall\",\"destroyedWaterWall\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class DestroyedBrick extends GameEntity {\n\n    constructor() {\n        super(\"destroyedBrick\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"destroyedBrick\",\"destroyedBrick\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\n\nexport class DestroyedBush extends GameEntity {\n\n    constructor() {\n        super(\"destroyedBush\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"destroyedBush\",\"destroyedBush\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class BombUp extends GameEntity {\n\n    constructor() {\n        super(\"bombUp\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"bombUp\",\"bombUp\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class ExplosionUp extends GameEntity {\n\n    constructor() {\n        super(\"explosionUp\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"explosionUp\",\"explosionUp\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class SheildUp extends GameEntity {\n\n    constructor() {\n        super(\"shieldUp\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"shieldUp\",\"shieldUp\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class Skull extends GameEntity {\n\n    constructor() {\n        super(\"skull\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"skull\",\"skull\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {WallComponent} from \"../../../lib/game/component/wallComponent\";\nimport {AnimationComponent} from \"../../../lib/game/component/animationComponent\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\nimport {DestructibleComponent} from \"../../../lib/game/component/destructibleComponent\";\n\n\nexport class SpeedUp extends GameEntity {\n\n    constructor() {\n        super(\"speedUp\");\n\n        this.addComponent(new WallComponent());\n        this.addComponent(new DestructibleComponent());\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"speedUp\",\"speedUp\"));\n\n        let animationComponent : AnimationComponent = new AnimationComponent();\n        animationComponent.setAnimatedSprite(\"down\",animatedSprite);\n\n        this.addComponent(\n            animationComponent\n        );\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n    }\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\nexport class SmokeParticle extends GameEntity {\n\n    constructor() {\n        super(\"smokeParticle\");\n\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"particle\",\"particle\"));\n\n\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\nexport class GrassParticle extends GameEntity {\n\n    constructor() {\n        super(\"grassParticle\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"particle\",\"particle\"));\n\n\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\nexport class MistParticles extends GameEntity {\n\n    constructor() {\n        super(\"mistParticle\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"particle\",\"particle\"));\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\nexport class RainParticle extends GameEntity {\n\n    constructor() {\n        super(\"rainParticle\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"particle\",\"particle\"));\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\nexport class WinningParticle extends GameEntity {\n\n    constructor() {\n        super(\"winningParticle\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"particle\",\"particle\"));\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n\n\n}","import {GameEntity} from \"../../../lib/game/entity/gameEntity\";\nimport {SpriteSheet} from \"../../../lib/rendering/spriteSheet\";\nimport {SpriteSheetManager} from \"../../../lib/rendering/spriteSheetManager\";\nimport {AnimatedSprite} from \"../../../lib/rendering/animatedSprite\";\nimport {DirectionComponent} from \"../../../lib/game/component/directionComponent\";\n\nexport class LosingParticles extends GameEntity {\n\n    constructor() {\n        super(\"losingParticle\");\n\n        let spriteSheet: SpriteSheet = SpriteSheetManager.getInstance().getSpriteSheet(\"level\");\n        let animatedSprite: AnimatedSprite = new AnimatedSprite(SpriteSheetManager.getInstance().getSpriteSheet(\"level\"));\n        animatedSprite.addSprite(spriteSheet.getSprite(\"particle\",\"particle\"));\n\n        let directionComponent : DirectionComponent = new DirectionComponent();\n        directionComponent.setDirection(\"down\");\n\n        this.addComponent(\n            directionComponent\n        );\n\n    }\n\n\n}","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","\nexport enum GameMode {\n    MAIN_MENU = 0,\n    PLAYING = 1,\n    VICTORY =2,\n    GAME_OVER = 3\n}\n\n","import {GameScreen} from \"../../lib/application/gameScreen\";\nimport {Player} from \"../entities/players/player\";\nimport {GameMap} from \"../../lib/game/gameMap\";\nimport {SystemManager} from \"../../lib/game/system/systemManager\";\nimport {AudioManager} from \"../../lib/audo/audioManager\";\nimport {WhitePlayer} from \"../entities/players/whitePlayer\";\nimport {BlackPlayer} from \"../entities/players/blackPlayer\";\nimport {RedPlayer} from \"../entities/players/redPlayer\";\nimport {BluePlayer} from \"../entities/players/bluePlayer\";\nimport {ParticleFactory} from \"../entities/particles/ParticleFactory\";\nimport {GameEntity} from \"../../lib/game/entity/gameEntity\";\nimport {GameSystem} from \"../../lib/game/system/gameSystem\";\nimport {GameEvent} from \"../../lib/event/gameEvent\";\nimport {SpeedComponent} from \"../../lib/game/component/speedComponent\";\nimport {VelocityComponent} from \"../../lib/game/component/velocityComponent\";\nimport {DirectionComponent} from \"../../lib/game/component/directionComponent\";\nimport {KeyboardInput} from \"../../lib/input/keyboard\";\nimport {AttackComponent} from \"../../lib/game/component/attackComponent\";\nimport {ParticleSystem} from \"../../lib/game/system/particleSystem\";\n\n\nexport class Game implements GameScreen {\n\n    private _players: Array<Player> = [];\n    private _gameMap: GameMap;\n    private _backgroundParticles:Array<GameEntity>;\n    private _particleSystem:ParticleSystem;\n\n    public init() : void {\n\n        this._particleSystem = new ParticleSystem();\n\n        this._players.push(new WhitePlayer());\n        this._players.push(new BlackPlayer());\n        this._players.push(new RedPlayer());\n        this._players.push(new BluePlayer());\n\n        this._gameMap = GameMap.getInstance();\n\n        for (let i = 0; i < 250; i++) {\n            GameMap.getInstance().addParticle(ParticleFactory.getParticle(\"rainParticle\", null, null));\n        }\n\n        this._backgroundParticles = [];\n\n        for (let i = 0; i < 900; i++) {\n            this._backgroundParticles.push(ParticleFactory.getParticle(\"winningParticle\", null, null));\n        }\n    }\n\n    public reset(startGame: boolean) : void {\n        GameMap.getInstance().init();\n        this._players  = [];\n\n        if (startGame) {\n            let whitePlayer : GameEntity = new WhitePlayer();\n            whitePlayer.removeComponent(\"ai\");\n            this._players.push(whitePlayer);\n        } else {\n            this._players.push(new WhitePlayer());\n        }\n\n\n        this._players.push(new BlackPlayer());\n        this._players.push(new RedPlayer());\n        this._players.push(new BluePlayer());\n    }\n\n    public gameLoop() : void {\n\n        let gameEntityMap: Map<string, Array<GameEntity>> = this._gameMap.getMap();\n        let gameSystems: Array<GameSystem> = SystemManager.getInstance().getSystems();\n\n        for (let i = 0; i < this._backgroundParticles.length; i++) {\n            this._particleSystem.process(this._backgroundParticles[i]);\n        }\n\n        this.processEntities(\"tile\", gameEntityMap, gameSystems);\n        this.processEntities(\"item\", gameEntityMap, gameSystems);\n        this.processEntities(\"decal\", gameEntityMap, gameSystems);\n\n        for (let i = 0; i < this._players.length; i++) {\n            for (let j = 0; j < gameSystems.length; j++) {\n                gameSystems[j].process(this._players[i]);\n            }\n        }\n\n        let particles: Array<GameEntity> = GameMap.getInstance().getParticles();\n\n        for (let i = 0; i < particles.length; i++) {\n            let gameEntity: GameEntity = particles[i];\n\n            if (gameEntity != null) {\n                for (let j = 0; j < gameSystems.length; j++) {\n                    gameSystems[j].process(gameEntity);\n                }\n            }\n        }\n\n    }\n\n    public processEntities(layerName: string, gameEntityMap: Map<string, Array<GameEntity>>, gameSystems: Array<GameSystem>): void {\n        for (let i = 0; i < gameEntityMap.get(layerName).length; i++) {\n            let gameEntity: GameEntity = gameEntityMap.get(layerName)[i];\n\n            if (gameEntity != null) {\n\n                for (let j = 0; j < gameSystems.length; j++) {\n                    gameSystems[j].process(gameEntity);\n                }\n            }\n        }\n    }\n\n    public keyboard(gameEvent: GameEvent) : void {\n        let speed: SpeedComponent = this._players[0].getComponent(\"speed\") as SpeedComponent;\n        let velocity: VelocityComponent = this._players[0].getComponent(\"velocity\") as VelocityComponent;\n        let direction: DirectionComponent = this._players[0].getComponent(\"direction\") as DirectionComponent;\n\n        let x: number = 0;\n        let y: number = 0;\n\n        if (gameEvent.payload == KeyboardInput.LEFT) {\n            x = speed.getSpeed() * -1;\n            direction.setDirection(\"left\");\n        } else if (gameEvent.payload == KeyboardInput.RIGHT) {\n            x = speed.getSpeed();\n            direction.setDirection(\"right\");\n        } else if (gameEvent.payload == KeyboardInput.UP) {\n            y = speed.getSpeed() * -1;\n            direction.setDirection(\"up\");\n        } else if (gameEvent.payload == KeyboardInput.DOWN) {\n            y = speed.getSpeed();\n            direction.setDirection(\"down\");\n        } else if (gameEvent.payload == KeyboardInput.SPACE) {\n            let attackComponent: AttackComponent = new AttackComponent();\n            this._players[0].addComponent(attackComponent);\n            AudioManager.getInstance().play(\"music\");\n        }\n\n        velocity.setVelX(x);\n        velocity.setVelY(y);\n    }\n\n\n}","import {GameSystem} from \"./gameSystem\";\nimport {GameEntity} from \"../entity/gameEntity\";\nimport {VelocityComponent} from \"../component/velocityComponent\";\nimport {GameMap} from \"../gameMap\";\nimport {PositionComponent} from \"../component/positionComponent\";\nimport {AnimateComponent} from \"../component/animateComponent\";\nimport {GrassParticle} from \"../../../app/entities/particles/grassParticle\";\nimport {ParticleFactory} from \"../../../app/entities/particles/ParticleFactory\";\nimport {getRandomInt} from \"../util/mathUtil\";\n\n\n\nexport class CollisionSystem implements GameSystem {\n\n    process(gameEntity: GameEntity): void {\n\n        if (gameEntity.hasComponent(\"velocity\")) {\n            let velocity : VelocityComponent = gameEntity.getComponent(\"velocity\") as VelocityComponent;\n            let position: PositionComponent = gameEntity.getComponent(\"position\") as PositionComponent;\n\n            if (velocity.getVelX() != 0 || velocity.getVelY() != 0) {\n\n                let attemptedX :number = 0;\n                let attemptedY :number = 0;\n\n                if (velocity.getVelX() > 0) {\n                    attemptedX= 1;\n                } else if (velocity.getVelX() < 0){\n                    attemptedX = -1;\n                }\n\n                if (velocity.getVelY() > 0) {\n                    attemptedY = 1;\n                } else if (velocity.getVelY() < 0){\n                    attemptedY= -1;\n                }\n\n                if (!GameMap.getInstance().isWall(position.getX() + attemptedX,position.getY() + attemptedY)) {\n\n                    if (getRandomInt(2) == 2) {\n                        for (let i = 0; i < 50; i++) {\n                            let grassParticle: GrassParticle = ParticleFactory.getParticle(\"grassParticle\", position.getX(), position.getY());\n                            GameMap.getInstance().addParticle(grassParticle);\n                        }\n                    }\n\n                    position.setX(position.getX() + attemptedX);\n                    position.setY(position.getY() + attemptedY);\n\n                    let animate : AnimateComponent = new AnimateComponent();\n                    gameEntity.addComponent(animate);\n\n\n                }\n\n                velocity.setVelX(0);\n                velocity.setVelY(0);\n\n            }\n        }\n\n    }\n\n}","import {GameSystem} from \"./gameSystem\";\nimport {GameEntity} from \"../entity/gameEntity\";\nimport {AnimationComponent} from \"../component/animationComponent\";\nimport {PositionComponent} from \"../component/positionComponent\";\nimport {DirectionComponent} from \"../component/directionComponent\";\n\n\nexport class RenderSystem implements GameSystem {\n     private _canvas: HTMLCanvasElement;\n     private _ctx: CanvasRenderingContext2D;\n\n    constructor() {\n        this._canvas  = document.getElementById('canvas') as\n            HTMLCanvasElement;\n        this._ctx  = this._canvas.getContext(\"2d\");\n    }\n\n    process(gameEntity: GameEntity): void {\n\n        if (gameEntity.hasComponent(\"animation\")) {\n            let animation : AnimationComponent = gameEntity.getComponent(\"animation\") as AnimationComponent;\n            let position: PositionComponent = gameEntity.getComponent(\"position\") as PositionComponent;\n            let direction: DirectionComponent = gameEntity.getComponent(\"direction\") as DirectionComponent;\n\n            if (gameEntity.hasComponent(\"renderPosition\")) {\n                animation.getAnimatedSprite(direction.getDirection()).render(this._ctx,position.getX() * 64,position.getY() * 64);\n\n                if (gameEntity.hasComponent(\"animate\")) {\n                    animation.getAnimatedSprite(direction.getDirection()).animate();\n                    gameEntity.removeComponent(\"animate\");\n                }\n\n            } else {\n                animation.getAnimatedSprite(direction.getDirection()).render(this._ctx,position.getX() * 64,position.getY() * 64);\n                animation.getAnimatedSprite(direction.getDirection()).animate();\n            }\n\n        }\n    }\n\n}","import {GameSystem} from \"./gameSystem\";\nimport {GameEntity} from \"../entity/gameEntity\";\nimport {TimerComponent} from \"../component/timerComponent\";\nimport {AnimateComponent} from \"../component/animateComponent\";\n\nexport class TimerSystem implements GameSystem {\n\n    process(gameEntity: GameEntity): void {\n\n        if (gameEntity.hasComponent(\"timer\")) {\n            let timer : TimerComponent = gameEntity.getComponent(\"timer\") as TimerComponent;\n            timer.setTimer(timer.getTimer() - 1);\n\n            let animate : AnimateComponent = new AnimateComponent();\n            gameEntity.addComponent(animate);\n\n            if (timer.getTimer() <= 0) {\n                gameEntity.removeComponent(\"timer\");\n                gameEntity.removeComponent(\"animation\");\n\n                if (timer !== undefined) {\n                    timer.getCallBack()(gameEntity);\n                }\n            }\n\n        }\n\n    }\n\n}","import {GameSystem} from \"./gameSystem\";\nimport {GameEntity} from \"../entity/gameEntity\";\nimport {PositionComponent} from \"../component/positionComponent\";\nimport {GameMap} from \"../gameMap\";\nimport {EntityManager} from \"../entity/entityManager\";\nimport {InventoryComponent} from \"../component/inventoryComponent\";\nimport {OwnerComponent} from \"../component/ownerComponent\";\n\n\nexport class AttackSystem implements GameSystem {\n\n    process(gameEntity: GameEntity): void {\n\n        if (gameEntity.hasComponent(\"attack\")) {\n            let position: PositionComponent = gameEntity.getComponent(\"position\") as PositionComponent;\n\n            let x : number = position.getX();\n            let y : number = position.getY();\n\n            let mapEntity : GameEntity = GameMap.getInstance().getGameEntity(\"tile\",x,y);\n\n            if (!mapEntity.hasComponent(\"wall\")) {\n                let inventory: InventoryComponent = gameEntity.getComponent(\"inventory\") as InventoryComponent;\n\n                if (inventory.getCurrentItems() == 0) {\n                    return;\n                } else {\n                    inventory.setCurrentItems(inventory.getCurrentItems() - 1);\n                }\n\n                let bomb : GameEntity = EntityManager.getInstance().getEntity(\"bomb\");\n\n                let position : PositionComponent = new PositionComponent();\n                position.setX(x);\n                position.setY(y);\n\n                bomb.addComponent(\n                    position\n                );\n\n                let owner : OwnerComponent = new OwnerComponent();\n                owner.setOwner(gameEntity.getName());\n\n                bomb.addComponent(\n                    owner\n                );\n\n                GameMap.getInstance().setGameEntity(\"item\",x,y, bomb);\n            }\n\n\n            gameEntity.removeComponent(\"attack\");\n        }\n\n    }\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class OwnerComponent implements GameComponent {\n\n    private _owner:string;\n\n    constructor() {\n    }\n\n    name(): string {\n        return \"owner\";\n    }\n\n    public setOwner(owner:string) {\n        this._owner = owner;\n    }\n\n    public getOwner() : string {\n        return this._owner;\n    }\n\n\n\n}","import {GameSystem} from \"./gameSystem\";\nimport {GameEntity} from \"../entity/gameEntity\";\nimport {PositionComponent} from \"../component/positionComponent\";\nimport {GameMap} from \"../gameMap\";\nimport {EntityManager} from \"../entity/entityManager\";\nimport {Player} from \"../../../app/entities/players/player\";\nimport {DeadComponent} from \"../component/deadComponent\";\nimport {DirectionComponent} from \"../component/directionComponent\";\nimport {GameEvent} from \"../../event/gameEvent\";\nimport {EventBus} from \"../../event/eventBus\";\n\nexport class DamageSystem implements GameSystem {\n\n    process(gameEntity: GameEntity): void {\n\n        if (gameEntity.hasComponent(\"damage\")) {\n            let position: PositionComponent = gameEntity.getComponent(\"position\") as PositionComponent;\n            let item = GameMap.getInstance().getGameEntity(\"item\",position.getX(),position.getY());\n\n            if (item != null && item.getName() === \"crate\") {\n                console.log(\"create destroy\");\n                let randomPowerUps : string [] = [\"bombUp\",\"explosionUp\",\"shieldUp\",\"skull\",\"speedUp\"];\n                let  powerUpName = randomPowerUps[Math.floor(Math.random()*randomPowerUps.length)];\n\n\n                console.info(item.getName() );\n                let powerUp = EntityManager.getInstance().getEntity(powerUpName);\n\n                GameMap.getInstance().setGameEntity(\"item\",position.getX(),position.getY(), powerUp);\n\n            }\n\n            this.killPlayer(position.getX(), position.getY());\n\n            gameEntity.removeComponent(\"damage\");\n            gameEntity.removeComponent(\"futureDamage\");\n        }\n    }\n\n    private killPlayer(x:number, y: number) : void {\n        let players : Array<string> = [\"whitePlayer\",\"blackPlayer\",\"redPlayer\",\"bluePlayer\"];\n\n        for (let i = 0; i < players.length; i++) {\n            let player : Player = EntityManager.getInstance().getPlayer(players[i]);\n\n            if (player !== undefined) {\n\n                if (player.hasComponent(\"dead\")) {\n                    continue;\n                }\n\n                let position: PositionComponent = player.getComponent(\"position\") as PositionComponent;\n\n                if (position.getX() == x && position.getY() == y) {\n                    player.addComponent(new DeadComponent());\n\n                    let direction : DirectionComponent = player.getComponent(\"direction\") as DirectionComponent;\n                    direction.setDirection(\"dead\");\n\n                    if (player.getName() === \"whitePlayer\") {\n                        EventBus.getInstance().publish(new GameEvent(\"gameOver\", null));\n                    } else {\n                        EventBus.getInstance().publish(new GameEvent(\"death\", null));\n                    }\n                }\n            }\n        }\n    }\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class DeadComponent implements GameComponent {\n\n    constructor() {\n    }\n\n    name(): string {\n        return \"dead\";\n    }\n\n}","import {GameSystem} from \"./gameSystem\";\nimport {GameEntity} from \"../entity/gameEntity\";\nimport {PositionComponent} from \"../component/positionComponent\";\nimport {EntityManager} from \"../entity/entityManager\";\nimport {AStar} from \"../ai/aStar\";\nimport {PathNode} from \"../ai/pathNode\";\nimport {VelocityComponent} from \"../component/velocityComponent\";\nimport {SpeedComponent} from \"../component/speedComponent\";\nimport {AiComponent} from \"../component/aiComponent\";\nimport {AttackComponent} from \"../component/attackComponent\";\nimport {GameMap} from \"../gameMap\";\nimport {getRandomArrayElement, Point} from \"../util/mathUtil\";\nimport {EnemyComponent} from \"../component/enemyComponent\";\n\n\n\nexport class AiSystem implements GameSystem {\n\n    process(gameEntity: GameEntity): void {\n\n        if (gameEntity.hasComponent(\"ai\") && !gameEntity.hasComponent(\"dead\")) {\n            let ai: AiComponent = gameEntity.getComponent(\"ai\") as AiComponent;\n            let position: PositionComponent = gameEntity.getComponent(\"position\") as PositionComponent;\n\n            //@ts-ignore\n            let velocity: VelocityComponent = gameEntity.getComponent(\"velocity\") as VelocityComponent;\n\n            //@ts-ignore\n            let speed: SpeedComponent = gameEntity.getComponent(\"speed\") as SpeedComponent;\n\n            let npcX : number = position.getX();\n            let npcY : number = position.getY();\n\n            let enemyPoint : Point;\n            \n            if (this.hasNoValidEnemy(gameEntity)) {\n                enemyPoint = this.findNewEnemy(gameEntity);\n\n                console.log(enemyPoint);\n            } else {\n                let enemyComponent : EnemyComponent = gameEntity.getComponent(\"enemy\") as EnemyComponent;\n                enemyPoint = this.findEnemyPosition(enemyComponent.getEnemyName());\n            }\n            \n            if (enemyPoint == null) {\n                return;\n            }\n\n            let enemyX = enemyPoint.x;\n            let enemyY = enemyPoint.y;\n\n            let aStar : AStar = new AStar(npcX,npcY,enemyX, enemyY);\n\n            if (aStar.isPathFound()) {\n                let path : Array<PathNode> = aStar.getPath();\n\n                if (path.length == 0) {\n                    gameEntity.addComponent(new AttackComponent());\n                    return;\n                }\n\n                let newNode : PathNode = path[path.length-1];\n\n                let item : GameEntity = GameMap.getInstance().getGameEntity(\"item\", newNode.getX(), newNode.getY());\n\n                if (item != null) {\n                    gameEntity.addComponent(new AttackComponent());\n                    return;\n                } else {\n                    if (new Date().getTime() > ai.getLastMove() + 250) {\n                        position.setX(path[path.length-1].getX());\n                        position.setY(path[path.length-1].getY());\n                        ai.updateMove();\n                    }\n                }\n            }\n        }\n    }\n\n    private findEnemyPosition(enemy:string) : Point {\n        let enemyPlayer : GameEntity = EntityManager.getInstance().getPlayer(enemy);\n        let enemyPosition : PositionComponent = enemyPlayer.getComponent(\"position\") as PositionComponent;\n\n        let enemyX : number = enemyPosition.getX();\n        let enemyY : number = enemyPosition.getY();\n\n        for (let y = enemyY - 1; y < enemyY + 1; y++) {\n            for (let x = enemyX - 1; x < enemyX +1; x++) {\n                if (x == enemyX && y == enemyY) {\n                    continue;\n                } else if (!GameMap.getInstance().isWall(x,y)) {\n                    return {\n                        x: x,\n                        y: y\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n\n    private findNewEnemy(gameEntity: GameEntity) : Point {\n        let possibleEnemies: Array<string> = [\"whitePlayer\",\"blackPlayer\",\"redPlayer\",\"blackPlayer\"];\n        let actualEnemies: Array<string> = [];\n\n        for (let i = 0; i < possibleEnemies.length; i++) {\n            if (possibleEnemies[i] !== gameEntity.getName()) {\n                actualEnemies.push(possibleEnemies[i]);\n            }\n        }\n\n        let enemyName = actualEnemies[getRandomArrayElement(actualEnemies)];\n        let enemyComponent : EnemyComponent = gameEntity.getComponent(\"enemy\") as EnemyComponent;\n        enemyComponent.setEnemyName(enemyName);\n\n        return this.findEnemyPosition(enemyName);\n    }\n\n    private hasNoValidEnemy(gameEntity: GameEntity) {\n\n        let enemyComponent : EnemyComponent = gameEntity.getComponent(\"enemy\") as EnemyComponent;\n\n        if (enemyComponent.getEnemyName() === null) {\n            return true;\n        }\n\n        return false;\n    }\n}","import {GameMap} from \"../gameMap\";\nimport {PathNode} from \"./pathNode\";\nimport {GameEntity} from \"../entity/gameEntity\";\n\n\nexport class AStar {\n\n    private _gameMap: GameMap = GameMap.getInstance();\n    private _closedSet: Map<number, PathNode> = new Map<number, PathNode>();\n    private _openSet: Map<number, PathNode> = new Map<number, PathNode>();\n    private _path: Array<PathNode> = new Array<PathNode>();\n    private _currentNode: PathNode = new PathNode(0, 0);\n\n    private _startX: number;\n    private _startY: number;\n    private _endX: number;\n    private _endY: number;\n\n\n    public constructor(startX: number, startY: number, endX: number, endY: number) {\n        this._startX = startX;\n        this._startY = startY;\n        this._endX = endX;\n        this._endY = endY;\n\n        let idx: number = this._gameMap.translateCoordinatesToIdx(startX, startY);\n\n        let n: PathNode = new PathNode(startX, startY);\n        n.setIdx(idx);\n        n.setParent(0);\n        n.setG(0);\n        n.setH(this.getManhattanDistance(n.getX(), n.getY()));\n        n.setF(n.getG() + n.getH());\n\n        this._openSet.set(idx, n);\n    }\n\n    private getManhattanDistance(x: number, y: number): number {\n        return ((Math.abs(x - this._endX) + Math.abs(y - this._endY)) * 10);\n    }\n\n    private isOnClosedList(idx: number): boolean {\n\n        // @ts-ignore\n        for (let [k,pathNode] of this._closedSet) {\n            if (pathNode.getIdx() == idx) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    private isOnOpenedList(idx: number): boolean {\n\n        // @ts-ignore\n        for (let [k,pathNode] of this._openSet) {\n            if (pathNode.getIdx() == idx) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    private addToOpenedList(n: PathNode): void {\n        this._openSet.set(n.getIdx(), n);\n    }\n\n    private addToClosedList(idx: number, n: PathNode): void {\n        this._closedSet.set(idx, n);\n    }\n\n    private findLowestCost(): PathNode {\n        let f: number = 99999;\n        let lowestCostIdx: number = 0;\n\n        // @ts-ignore\n        for (let [k,pathNode] of this._openSet) {\n\n            if (pathNode.getF() <= f) {\n                f = pathNode.getF();\n                lowestCostIdx = pathNode.getIdx();\n            }\n        }\n\n        let lowestNode: PathNode = this._openSet.get(lowestCostIdx);\n        this._openSet.delete(lowestCostIdx);\n        return lowestNode;\n    }\n\n    private calculateGValue(x: number, y: number): number {\n        // Checking behind me\n        if (x == (this._currentNode.getX() - 1) && y == this._currentNode.getY()) {\n            let gameEntity : GameEntity = GameMap.getInstance().getGameEntity(\"item\", this._currentNode.getX() - 1, this._currentNode.getY());\n            return this.getTileWeight(gameEntity);\n\n            // Checking in front of me\n        } else if (x == (this._currentNode.getX() + 1) && y == this._currentNode.getY()) {\n            let gameEntity : GameEntity = GameMap.getInstance().getGameEntity(\"item\", this._currentNode.getX() + 1, this._currentNode.getY());\n            return this.getTileWeight(gameEntity);\n            // Checking above me\n        } else if (x == (this._currentNode.getX()) && y == this._currentNode.getY() + 1) {\n            let gameEntity : GameEntity = GameMap.getInstance().getGameEntity(\"item\", this._currentNode.getX(), this._currentNode.getY() + 1);\n            return this.getTileWeight(gameEntity);\n            // Checking below me\n        } else if (x == (this._currentNode.getX()) && y == this._currentNode.getY() - 1) {\n            let gameEntity : GameEntity = GameMap.getInstance().getGameEntity(\"item\", this._currentNode.getX(), this._currentNode.getY() -1 );\n            return this.getTileWeight(gameEntity);\n            // Checking diagonal\n        } else {\n            return 1400;\n        }\n    }\n\n    private getTileWeight(gameEntity : GameEntity) : number {\n\n        if (gameEntity == null) {\n            return 10;\n        }\n\n        if (gameEntity.hasComponent(\"destructible\")) {\n            if (gameEntity.getName() == \"crate\") {\n                return 5;\n            } else if (gameEntity.getName() == \"bomb\") {\n                return 100000;\n            } else {\n                return 15;\n            }\n        } else {\n            return 10;\n        }\n    }\n\n    private buildNodeList(): void {\n\n        for (let y = (this._currentNode.getY() + 1); y >= (this._currentNode.getY() - 1); y--) {\n            for (let x = (this._currentNode.getX() - 1); x < (this._currentNode.getX() + 2); x++) {\n\n                if (x == this._currentNode.getX() && y == this._currentNode.getY()) {\n                    continue;\n                } else {\n                    if (y >= 0 &&\n                        x >= 0 &&\n                        x < (this._gameMap.getWidth() - 1) &&\n                        y < (this._gameMap.getHeight() - 1) &&\n                        !GameMap.getInstance().canDestroy(x, y) &&\n                        !GameMap.getInstance().hasComponent(\"damage\",x,y) &&\n                        !GameMap.getInstance().hasComponent(\"futureDamage\",x,y) &&\n                        !GameMap.getInstance().isItemPresent(\"bomb\",x,y)\n                    ) {\n                        let cost: number = this._currentNode.getG() + this.calculateGValue(x, y);\n                        let idx: number = GameMap.getInstance().translateCoordinatesToIdx(x, y);\n\n                        if (this.isOnOpenedList(idx) && cost < this._openSet.get(idx).getG()) {\n                            this._openSet.get(idx).setG(cost);\n                            this._openSet.get(idx).setF(this._openSet.get(idx).getG() + this._openSet.get(idx).getH());\n                            this._openSet.get(idx).setParent(this._currentNode.getIdx());\n                        } else if (this.isOnClosedList(idx)) {\n                            continue;\n                        } else if (!this.isOnOpenedList(idx)) {\n                            let n: PathNode = new PathNode(0, 0);\n                            n.setG(cost);\n                            n.setX(x);\n                            n.setY(y);\n                            n.setH(this.getManhattanDistance(x, y));\n                            n.setIdx(idx);\n                            n.setParent(this._currentNode.getIdx());\n                            n.setF(n.getG() + n.getH());\n                            this.addToOpenedList(n);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    private buildRoute(): void {\n        let startIdx: number = GameMap.getInstance().translateCoordinatesToIdx(this._startX, this._startY);\n        let idx: number = GameMap.getInstance().translateCoordinatesToIdx(this._endX, this._endY);\n\n        while (idx != startIdx) {\n            this._path.push(this._closedSet.get(idx));\n            idx = this._closedSet.get(idx).getParent();\n        }\n    }\n\n    public getPath(): Array<PathNode> {\n        return this._path;\n    }\n\n    public isPathFound(): boolean {\n        let pathFound: boolean = false;\n\n        while (this._openSet.size != 0) {\n            this._currentNode = this.findLowestCost();\n            this.addToClosedList(this._currentNode.getIdx(), this._currentNode);\n\n            if (this._currentNode.getIdx() == GameMap.getInstance().translateCoordinatesToIdx(this._endX, this._endY)) {\n                this.buildRoute();\n\n                pathFound = true;\n                break;\n            } else {\n                this.buildNodeList();\n            }\n\n\n        }\n\n        return pathFound;\n    }\n\n\n}","export class PathNode {\n    private _x: number;\n    private _y: number;\n    private _idx: number;\n    private _parent: number;\n    private _g: number;\n    private _h: number;\n    private _f: number;\n\n    public constructor(x: number, y: number) {\n        this._x = x;\n        this._y = y;\n    }\n\n    public getX(): number {\n        return this._x;\n    }\n\n    public setX(x: number): void {\n        this._x = x;\n    }\n\n    public getY(): number {\n        return this._y;\n    }\n\n    public setY(y: number): void {\n        this._y = y;\n    }\n\n    public getIdx(): number {\n        return this._idx;\n    }\n\n    public setIdx(idx: number): void {\n        this._idx = idx;\n    }\n\n    public getParent(): number {\n        return this._parent;\n    }\n\n    public setParent(parent: number): void {\n        this._parent = parent;\n    }\n\n    public getG(): number {\n        return this._g;\n    }\n\n    public setG(g: number): void {\n        this._g = g;\n    }\n\n    public getH(): number {\n        return this._h;\n    }\n\n    public setH(h: number): void {\n        this._h = h;\n    }\n\n    public getF(): number {\n        return this._f;\n    }\n\n    public setF(f: number): void {\n        this._f = f;\n    }\n}","\n\nexport class AudioFile {\n    private _audio: HTMLAudioElement;\n\n    constructor(fileName: string, loop: boolean) {\n        this._audio = new Audio(fileName);\n        this._audio.loop = loop;\n    }\n\n    public isLooped() : boolean {\n        return this._audio.loop;\n    }\n\n    public play() : void {\n        if (!this._audio.paused) {\n            this._audio.pause();\n        }\n\n        this._audio.play();\n    }\n\n    public pause() : void {\n        this._audio.pause();\n    }\n\n    public stop() : void {\n        this._audio.pause();\n        this._audio.currentTime = 0;\n    }\n}","module.exports = __webpack_public_path__ + \"a23325adee35a059f8b23c084f23c42a.ogg\";","module.exports = __webpack_public_path__ + \"10e57d000d59c037ace218f23bced9ac.ogg\";","import {Player} from \"./player\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {AiComponent} from \"../../../lib/game/component/aiComponent\";\nimport {EnemyComponent} from \"../../../lib/game/component/enemyComponent\";\n\n\n\nexport class WhitePlayer extends Player {\n\n    constructor() {\n        super(\"whitePlayer\");\n        let position : PositionComponent = this.getComponent(\"position\") as PositionComponent;\n        position.setX(4);\n        position.setY(5);\n\n        this.addComponent(new AiComponent());\n        this.addComponent(new EnemyComponent());\n\n    }\n\n\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class SpeedComponent implements GameComponent {\n\n    private _speed:number;\n\n    constructor() {\n        this._speed =0;\n    }\n\n    name(): string {\n        return \"speed\";\n    }\n\n    public setSpeed(speed:number) : void {\n        this._speed = speed;\n    }\n\n    public getSpeed() : number {\n        return this._speed;\n    }\n\n}","import {GameComponent} from \"./gameComponent\";\n\n\nexport class RenderPositionComponent implements GameComponent {\n\n    private _x:number;\n    private _y:number;\n\n    constructor() {\n        this._x = 0;\n        this._y =0;\n    }\n\n    name(): string {\n        return \"renderPosition\";\n    }\n\n    public setX(x:number) : void {\n        this._x = x;\n    }\n\n    public setY(y:number) : void {\n        this._y = y;\n    }\n\n    public getX() : number {\n        return this._x;\n    }\n\n    public getY() : number {\n        return this._y;\n    }\n\n}","import {GameComponent} from \"./gameComponent\";\n\nexport class InventoryComponent implements GameComponent {\n\n    private _maxItems:number;\n    private _currentItems:number;\n\n    constructor() {\n        this._maxItems = 1;\n        this._currentItems = 1;\n    }\n\n    name(): string {\n        return \"inventory\";\n    }\n\n    getMaxItems() : number {\n        return this._maxItems;\n    }\n\n    setMaxItems(maxItems: number) : void {\n        this._maxItems = maxItems;\n    }\n\n    getCurrentItems() : number {\n        return this._currentItems;\n    }\n\n    setCurrentItems(currentItems: number) : void {\n        this._currentItems = currentItems;\n    }\n\n}","import {Player} from \"./player\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {AiComponent} from \"../../../lib/game/component/aiComponent\";\nimport {EnemyComponent} from \"../../../lib/game/component/enemyComponent\";\n\n\n\n\nexport class BlackPlayer extends Player {\n\n    constructor() {\n        super(\"blackPlayer\");\n\n        let position : PositionComponent = this.getComponent(\"position\") as PositionComponent;\n        position.setX(17);\n        position.setY(12);\n\n        this.addComponent(new AiComponent());\n        this.addComponent(new EnemyComponent());\n    }\n\n\n\n}","import {Player} from \"./player\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {AiComponent} from \"../../../lib/game/component/aiComponent\";\nimport {EnemyComponent} from \"../../../lib/game/component/enemyComponent\";\n\n\n\nexport class RedPlayer extends Player {\n\n    constructor() {\n        super(\"redPlayer\");\n\n        let position : PositionComponent = this.getComponent(\"position\") as PositionComponent;\n        position.setX(1);\n        position.setY(12);\n\n        this.addComponent(new AiComponent());\n        this.addComponent(new EnemyComponent());\n    }\n\n\n\n}","import {Player} from \"./player\";\nimport {PositionComponent} from \"../../../lib/game/component/positionComponent\";\nimport {AiComponent} from \"../../../lib/game/component/aiComponent\";\nimport {EnemyComponent} from \"../../../lib/game/component/enemyComponent\";\n\n\n\nexport class BluePlayer extends Player {\n\n    constructor() {\n        super(\"bluePlayer\");\n\n        let position : PositionComponent = this.getComponent(\"position\") as PositionComponent;\n        position.setX(17);\n        position.setY(1);\n\n        this.addComponent(new AiComponent());\n        this.addComponent(new EnemyComponent());\n    }\n\n\n\n}","import {EventBus} from \"../event/eventBus\";\nimport {GameEvent} from \"../event/gameEvent\";\nimport {SpriteSheetManager} from \"../rendering/spriteSheetManager\";\nimport {SystemManager} from \"../game/system/systemManager\";\nimport {AudioManager} from \"../audo/audioManager\";\nimport {Renderer} from \"../rendering/renderer\";\n\n\nexport class Application {\n\n    constructor() {\n\n        SpriteSheetManager.getInstance();\n        SystemManager.getInstance();\n        AudioManager.getInstance();\n\n        document.addEventListener('keydown', (event : KeyboardEvent) => {\n            EventBus.getInstance().publish(\n                new GameEvent(\"keyboardEvent\", event.keyCode)\n            );\n        });\n    }\n\n    resize() {\n        Renderer.getInstance().resize();\n    }\n\n}\n\n","import {GameEvent} from \"../../lib/event/gameEvent\";\nimport {OverLayBase, OverLayScreen} from \"../../lib/application/overLayScreen\";\nimport {ParticleFactory} from \"../entities/particles/ParticleFactory\";\nimport {GameEntity} from \"../../lib/game/entity/gameEntity\";\nimport {ParticleSystem} from \"../../lib/game/system/particleSystem\";\nimport {Renderer} from \"../../lib/rendering/renderer\";\nimport {Color} from \"../../lib/rendering/color\";\nimport {EventBus} from \"../../lib/event/eventBus\";\nimport {KeyboardInput} from \"../../lib/input/keyboard\";\n\nconst bomberManImg = require(\"../../../resources/images/bombermanFace.png\");\nconst logoImg = require(\"../../../resources/images/logo.png\");\n\nexport class StartGame extends OverLayBase implements OverLayScreen {\n\n    private _particles:Array<GameEntity>;\n    private _particleSystem:ParticleSystem;\n    private _bomberManFace:HTMLImageElement;\n    private _logo:HTMLImageElement;\n    protected _color:Color;\n\n    constructor() {\n        super();\n        this.init();\n    }\n\n    public init(): void {\n        this.enable();\n        this._particles = new Array<GameEntity>();\n        this._particleSystem = new ParticleSystem();\n        this._bomberManFace = new Image();\n        this._bomberManFace.src = bomberManImg;\n\n        this._logo = new Image();\n        this._logo.src = logoImg;\n\n        this._color = new Color();\n        this._color.setRed(255);\n        this._color.setGreen(255);\n        this._color.setBlue(255);\n\n        for (let i = 0; i < 120; i++) {\n            this._particles.push(ParticleFactory.getParticle(\"winningParticle\", null, null));\n        }\n    }\n\n    public gameLoop() : void {\n\n        for (let i = 0; i < this._particles.length; i++) {\n            this._particleSystem.process(this._particles[i]);\n        }\n\n        Renderer.getInstance().renderImage(\n                this._bomberManFace,\n                400,\n                30,\n                500,\n            500\n        );\n\n        Renderer.getInstance().renderImage(\n            this._logo,\n            350,\n            500,\n            600,\n            300\n        );\n\n\n\n        Renderer.getInstance().print(\"[ Press Enter ]\", 650, 800, \"Garamond\", 30, this._color);\n\n    }\n\n    public keyboard(gameEvent: GameEvent) : void {\n\n        if (gameEvent.payload === KeyboardInput.ENTER) {\n            EventBus.getInstance().publish(new GameEvent(\"startGame\", null));\n        }\n\n    }\n\n    public isActive(): boolean {\n        return this.getActive();\n    }\n\n    public disable(): void {\n        this.setActive(false);\n    }\n\n    public enable(): void {\n        this.setActive(true);\n    }\n\n\n}","module.exports = __webpack_public_path__ + \"4c3b252cc6b3ea566d81cd387857f7cb.png\";","import {GameEvent} from \"../../lib/event/gameEvent\";\nimport {OverLayBase, OverLayScreen} from \"../../lib/application/overLayScreen\";\nimport {ParticleFactory} from \"../entities/particles/ParticleFactory\";\nimport {GameEntity} from \"../../lib/game/entity/gameEntity\";\nimport {ParticleSystem} from \"../../lib/game/system/particleSystem\";\nimport {Renderer} from \"../../lib/rendering/renderer\";\nimport {Color} from \"../../lib/rendering/color\";\nimport {EventBus} from \"../../lib/event/eventBus\";\nimport {KeyboardInput} from \"../../lib/input/keyboard\";\n\nconst bomberManImg = require(\"../../../resources/images/trophy.png\");\nconst logoImg = require(\"../../../resources/images/logo.png\");\n\nexport class Victory extends OverLayBase implements OverLayScreen {\n\n    private _particles:Array<GameEntity>;\n    private _particleSystem:ParticleSystem;\n    private _bomberManFace:HTMLImageElement;\n    private _logo:HTMLImageElement;\n    protected _color:Color;\n\n    constructor() {\n        super();\n        this.init();\n    }\n\n    public init(): void {\n        this._particles = new Array<GameEntity>();\n        this._particleSystem = new ParticleSystem();\n        this._bomberManFace = new Image();\n        this._bomberManFace.src = bomberManImg;\n\n        this._logo = new Image();\n        this._logo.src = logoImg;\n\n        this._color = new Color();\n        this._color.setRed(255);\n        this._color.setGreen(255);\n        this._color.setBlue(255);\n\n        for (let i = 0; i < 120; i++) {\n            this._particles.push(ParticleFactory.getParticle(\"winningParticle\", null, null));\n        }\n    }\n\n    public gameLoop() : void {\n\n        for (let i = 0; i < this._particles.length; i++) {\n            this._particleSystem.process(this._particles[i]);\n        }\n\n        Renderer.getInstance().renderImage(\n            this._bomberManFace,\n            400,\n            30,\n            500,\n            500\n        );\n\n        Renderer.getInstance().renderImage(\n            this._logo,\n            350,\n            500,\n            600,\n            300\n        );\n\n\n\n        Renderer.getInstance().print(\"[ Press Enter ]\", 650, 800, \"Garamond\", 30, this._color);\n\n    }\n\n    public keyboard(gameEvent: GameEvent) : void {\n\n\n        if (gameEvent.payload === KeyboardInput.ENTER) {\n            EventBus.getInstance().publish(new GameEvent(\"startGame\", null));\n        }\n    }\n\n    public isActive(): boolean {\n        return this.getActive();\n    }\n\n    public disable(): void {\n        this.setActive(false);\n    }\n\n    public enable(): void {\n        this.setActive(true);\n    }\n\n\n}","module.exports = __webpack_public_path__ + \"f018c37ace06f06e309e4b7746d36945.png\";","import {GameEvent} from \"../../lib/event/gameEvent\";\nimport {OverLayBase, OverLayScreen} from \"../../lib/application/overLayScreen\";\nimport {ParticleFactory} from \"../entities/particles/ParticleFactory\";\nimport {GameEntity} from \"../../lib/game/entity/gameEntity\";\nimport {ParticleSystem} from \"../../lib/game/system/particleSystem\";\nimport {Renderer} from \"../../lib/rendering/renderer\";\nimport {Color} from \"../../lib/rendering/color\";\nimport {EventBus} from \"../../lib/event/eventBus\";\nimport {KeyboardInput} from \"../../lib/input/keyboard\";\n\nconst bomberManDeadImg = require(\"../../../resources/images/bombermanFaceDead.png\");\nconst logoImg = require(\"../../../resources/images/logo.png\");\n\nexport class GameOver extends OverLayBase implements OverLayScreen {\n\n    private _particles:Array<GameEntity>;\n    private _particleSystem:ParticleSystem;\n    private _bomberManFace:HTMLImageElement;\n    private _logo:HTMLImageElement;\n    protected _color:Color;\n\n    constructor() {\n        super();\n        this.init();\n    }\n\n    public init() :void {\n\n        this._particles = new Array<GameEntity>();\n        this._particleSystem = new ParticleSystem();\n        this._bomberManFace = new Image();\n        this._bomberManFace.src = bomberManDeadImg;\n\n        this._logo = new Image();\n        this._logo.src = logoImg;\n\n        this._color = new Color();\n        this._color.setRed(255);\n        this._color.setGreen(255);\n        this._color.setBlue(255);\n\n        for (let i = 0; i < 120; i++) {\n            this._particles.push(ParticleFactory.getParticle(\"losingParticle\", null, null));\n        }\n    }\n\n    public gameLoop() : void{\n\n        for (let i = 0; i < this._particles.length; i++) {\n            this._particleSystem.process(this._particles[i]);\n        }\n\n        Renderer.getInstance().renderImage(\n            this._bomberManFace,\n            400,\n            30,\n            500,\n            500\n        );\n\n        Renderer.getInstance().renderImage(\n            this._logo,\n            350,\n            500,\n            600,\n            300\n        );\n\n\n\n        Renderer.getInstance().print(\"[ Press Enter ]\", 650, 800, \"Garamond\", 30, this._color);\n\n    }\n\n    public keyboard(gameEvent: GameEvent) : void {\n        if (gameEvent.payload === KeyboardInput.ENTER) {\n            EventBus.getInstance().publish(new GameEvent(\"startGame\", null));\n        }\n    }\n\n    public isActive(): boolean {\n        return this.getActive();\n    }\n\n    public disable(): void {\n        this.setActive(false);\n    }\n\n    public enable(): void {\n        this.setActive(true);\n    }\n\n\n}","module.exports = __webpack_public_path__ + \"216fc7522f3d8c07f50f33c4f1b7c97a.png\";","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./main.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./main.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./main.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"html, body {\\n    overflow: hidden;\\n    position: fixed;\\n    width: 100%;\\n    height: 100%;\\n    margin: 0;\\n    padding: 0;\\n    background-color: rgb(0, 0, 0);\\n}\\n\\ncanvas {\\n    -webkit-tap-highlight-color: transparent;\\n    background-color: rgb(0,0, 0);\\n\\n}\\n\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n"],"sourceRoot":""}